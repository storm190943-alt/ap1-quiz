<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHK AP1 FISI-Trainer 2026 | 100 Fragen Edition</title>
    <style>
        :root { --primary: #2563eb; --success: #16a34a; --error: #dc2626; --bg: #f8fafc; --text: #0f172a; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--text); padding: 20px; display: flex; justify-content: center; margin: 0; }
        .container { width: 100%; max-width: 900px; }
        .card { background: white; padding: 2.5rem; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border: 1px solid #e2e8f0; }
        .hidden { display: none !important; }
        .btn { padding: 16px; border: none; border-radius: 12px; cursor: pointer; font-weight: 700; width: 100%; margin-top: 15px; font-size: 1.1rem; transition: 0.2s; }
        .primary-btn { background: var(--primary); color: white; }
        .secondary-btn { background: #334155; color: white; }
        .option-item { display: flex; align-items: center; padding: 18px; border: 2px solid #f1f5f9; border-radius: 12px; margin-bottom: 12px; cursor: pointer; background: #fff; transition: 0.2s; font-size: 1.05rem; }
        .option-item:hover { background: #f8fafc; border-color: #cbd5e1; }
        .option-item.selected { border-color: var(--primary); background: #eff6ff; }
        .correct-ui { border-color: var(--success) !important; background: #f0fdf4 !important; font-weight: bold; color: var(--success); }
        .wrong-ui { border-color: var(--error) !important; background: #fef2f2 !important; color: var(--error); }
        input[type="text"] { width: 100%; padding: 18px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 1.1rem; outline: none; transition: 0.2s; margin-bottom: 15px; box-sizing: border-box; }
        #explanation-box { background: #f0f9ff; padding: 25px; border-radius: 12px; border-left: 8px solid var(--primary); margin-top: 25px; line-height: 1.6; font-size: 1rem; color: #1e293b; }
        .progress-bar { background: #e2e8f0; height: 12px; border-radius: 6px; margin-bottom: 30px; overflow: hidden; }
        #progress-fill { background: var(--primary); height: 100%; width: 0%; transition: 0.4s ease; }
        select { width: 100%; padding: 15px; border-radius: 10px; border: 2px solid #e2e8f0; font-size: 1rem; margin-bottom: 20px; background: white; cursor: pointer; }
        .explain-section { margin-top: 10px; padding-top: 10px; border-top: 1px solid #cbd5e1; }
    </style>
</head>
<body>
    <div class="container">
        <div id="setup-screen" class="card">
            <h1 style="color: var(--primary); margin-bottom: 0;">IHK AP1 Master 2026</h1>
            <p style="color: #64748b; margin-top: 5px;">100 FISI-Fragen mit Profi-Erkl√§rungen f√ºr jede Option.</p>
            
            <label><b>Themenbereich w√§hlen:</b></label>
            <select id="topic-select">
                <option value="all">Gesamter Katalog (100 Fragen)</option>
            </select>
            
            <button onclick="startQuiz('learn')" class="btn primary-btn">Lernmodus starten</button>
            <button onclick="startQuiz('exam')" class="btn secondary-btn">Pr√ºfungssimulation (20 Zufallsfragen)</button>
        </div>

        <div id="quiz-screen" class="card hidden">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <div id="meta" style="font-size: 0.8rem; font-weight: 800; color: #64748b; text-transform: uppercase;"></div>
            <h2 id="question-text" style="margin-bottom: 25px;"></h2>
            <div id="options-container"></div>
            <div id="feedback-area" class="hidden">
                <div id="explanation-box"></div>
            </div>
            <button id="check-btn" onclick="checkAnswer()" class="btn primary-btn">Antwort pr√ºfen</button>
            <button id="next-btn" onclick="nextQuestion()" class="btn primary-btn hidden">N√§chste Frage</button>
        </div>

        <div id="result-screen" class="card hidden" style="text-align: center;">
            <div style="font-size: 4rem;">üèÜ</div>
            <h2 id="result-title">Ergebnis</h2>
            <p id="score-display" style="font-size: 1.3rem;"></p>
            <button onclick="location.reload()" class="btn primary-btn">Zur√ºck zum Start</button>
        </div>
    </div>

<script>
// DER VOLLST√ÑNDIGE 100-FRAGEN-KATALOG
const allQuestions = [
    // --- HARDWARE (1-15) ---
    { 
        chapter: "Hardware", type: "single", 
        question: "Welches USV-System bietet Schutz gegen Netzausfall, Spannungsschwankungen und Frequenzabweichungen?", 
        options: ["VFD (Offline)", "VI (Line-Interactive)", "VFI (Online/Dauerwandler)"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: VFI (Voltage and Frequency Independent).</b> Hier wird der Strom doppelt gewandelt (AC->DC->AC). Er ist v√∂llig unabh√§ngig vom Netz.<br><br><b>Warum die anderen falsch sind:</b><br>‚Ä¢ <i>VFD:</i> Schaltet erst verz√∂gert um, filtert keine Frequenz.<br>‚Ä¢ <i>VI:</i> Regelt Spannung √ºber Trafo, aber korrigiert keine Frequenzfehler." 
    },
    { 
        chapter: "Hardware", type: "input", 
        question: "Ein RAID 5 besteht aus 4 Festplatten mit jeweils 8 TB. Wie viel TB nutzbarer Speicher steht zur Verf√ºgung?", 
        correctAnswers: ["24"], 
        explanation: "<b>L√∂sung: 24 TB.</b> Formel: (n-1) * Kapazit√§t. Hier (4-1) * 8 TB = 24 TB.<br><br><b>FISI-Info:</b> Eine Platte Kapazit√§t wird f√ºr Parit√§tsinformationen ben√∂tigt. RAID 5 bietet Ausfallsicherheit bei einer defekten Platte." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Was ist der Hauptvorteil der Harvard-Architektur gegen√ºber der Von-Neumann-Architektur?", 
        options: ["Geringere Kosten", "Gleichzeitiger Zugriff auf Daten und Befehle", "Einfacherer Aufbau"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Paralleler Zugriff.</b> Da Daten- und Programmspeicher getrennte Bussysteme haben, kann die CPU schneller arbeiten.<br><br><b>Warum die anderen falsch sind:</b><br>‚Ä¢ <i>Von-Neumann:</i> Nutzt einen gemeinsamen Bus (Von-Neumann-Flaschenhals), was langsamer ist." 
    },
    { 
        chapter: "Hardware", type: "input", 
        question: "Was ist der ideale PUE-Wert (Power Usage Effectiveness) in einem Rechenzentrum?", 
        correctAnswers: ["1.0", "1"], 
        explanation: "<b>L√∂sung: 1.0.</b> Ein PUE von 1 bedeutet, dass 100% des Stroms in die IT flie√üen und 0% in K√ºhlung/Licht. Je n√§her an 1, desto effizienter." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Welcher Speicher ist 'fl√ºchtig' (volatile)?", 
        options: ["SSD", "RAM", "ROM"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: RAM.</b> Daten gehen verloren, sobald der Strom weg ist.<br><br><b>Warum die anderen falsch sind:</b><br>‚Ä¢ <i>SSD/ROM:</i> Sind nicht-fl√ºchtig (Non-volatile), speichern also permanent." 
    },
    { 
        chapter: "Hardware", type: "input", 
        question: "Wie viele Zust√§nde k√∂nnen mit 8 Bit dargestellt werden?", 
        correctAnswers: ["256"], 
        explanation: "<b>L√∂sung: 256.</b> Rechnung: 2^8 (2 hoch 8) = 256. Bereich von 0 bis 255." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Welches Bauteil verhindert 'Aliasing' bei der Digitalisierung?", 
        options: ["Tiefpassfilter", "Verst√§rker", "Gleichrichter"], 
        correctAnswers: [0], 
        explanation: "<b>Richtig: Tiefpassfilter.</b> Er schneidet Frequenzen oberhalb der halben Abtastrate ab (Nyquist-Shannon).<br><br><b>Warum die anderen falsch sind:</b><br>‚Ä¢ <i>Gleichrichter:</i> Wandelt Wechselstrom in Gleichstrom.<br>‚Ä¢ <i>Verst√§rker:</i> Erh√∂ht nur den Pegel." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Was beschreibt der Begriff 'SATA Hot-Plugging'?", 
        options: ["Festplatte wird sehr hei√ü", "Wechsel im laufenden Betrieb", "Automatische √úbertaktung"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Wechsel im Betrieb.</b> Wichtig f√ºr Server (FISI-Kontext), um defekte Platten ohne Downtime zu tauschen." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Welche SSD-Technik speichert 3 Bit pro Zelle?", 
        options: ["SLC", "MLC", "TLC"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: TLC (Triple Level Cell).</b> Billiger, aber weniger langlebig als SLC (1 Bit) oder MLC (2 Bit)." 
    },
    { 
        chapter: "Hardware", type: "input", 
        question: "Was ist der Nachfolger von BIOS?", 
        correctAnswers: ["UEFI"], 
        explanation: "<b>L√∂sung: UEFI.</b> Bietet grafische Oberfl√§che, GPT-Unterst√ºtzung und Secure Boot." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Welche RAID-Level bietet NUR Performance-Gewinn ohne Sicherheit?", 
        options: ["RAID 1", "RAID 5", "RAID 0"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: RAID 0.</b> Daten werden gestriped (verteilt). F√§llt eine Platte aus, ist alles weg." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Was macht ein GPU-Shader?", 
        options: ["Strom sparen", "Grafikberechnungen", "Daten komprimieren"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Grafik.</b> Berechnet Schatten, Licht und Effekte in Echtzeit." 
    },
    { 
        chapter: "Hardware", type: "input", 
        question: "Welche Spannung liefert eine Standard-PC-Schiene f√ºr CPUs meist?", 
        correctAnswers: ["12V", "12"], 
        explanation: "<b>L√∂sung: 12V.</b> Moderne Netzteile liefern prim√§r 12V f√ºr CPU und GPU." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Was bedeutet ECC bei RAM?", 
        options: ["H√∂herer Takt", "Fehlerkorrektur", "Energiesparmodus"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Error Correction Code.</b> Erkennt und korrigiert Bit-Fehler (wichtig f√ºr Server)." 
    },
    { 
        chapter: "Hardware", type: "single", 
        question: "Welche Schnittstelle nutzt NVMe?", 
        options: ["SATA", "PCIe", "USB-C"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: PCIe.</b> Erm√∂glicht massive Bandbreiten, die SATA limitieren w√ºrde." 
    },

    // --- NETZWERK (16-35) ---
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Welche OSI-Schicht ist f√ºr das Routing zust√§ndig?", 
        options: ["Schicht 2", "Schicht 3", "Schicht 4"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Schicht 3 (Vermittlung).</b> Hier arbeiten IP-Adressen und Router.<br><br><b>Falsch:</b> Schicht 2 (Switching/MAC), Schicht 4 (TCP/UDP)." 
    },
    { 
        chapter: "Netzwerk", type: "input", 
        question: "Berechne die Anzahl nutzbarer Hosts in einem /26 Subnetz.", 
        correctAnswers: ["62"], 
        explanation: "<b>L√∂sung: 62.</b> 32-26 = 6 Host-Bits. 2^6 = 64 Adressen minus Netz-ID und Broadcast = 62." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Was macht das Protokoll ARP?", 
        options: ["IP in Namen", "IP in MAC-Adresse", "MAC in IP-Adresse"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: IP -> MAC.</b> Address Resolution Protocol findet die Hardware-Adresse zur IP." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Welcher Port wird f√ºr verschl√ºsselten Mailversand via Submission genutzt?", 
        options: ["25", "465", "587"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: 587.</b> Standardport f√ºr SMTP-Submission mit STARTTLS." 
    },
    { 
        chapter: "Netzwerk", type: "input", 
        question: "Wie lang ist eine IPv6 Adresse in Bit?", 
        correctAnswers: ["128"], 
        explanation: "<b>L√∂sung: 128 Bit.</b> IPv4 hat nur 32 Bit." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Welche Topologie ben√∂tigt einen Terminator?", 
        options: ["Stern", "Bus", "Ring"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Bus.</b> Um Signalreflexionen an den Enden zu verhindern." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Was ist ein 'Default Gateway'?", 
        options: ["Die eigene IP", "Adresse des Routers f√ºr fremde Netze", "DNS-Server"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Router-Adresse.</b> Wohin Pakete gehen, wenn das Ziel nicht im eigenen Netz ist." 
    },
    { 
        chapter: "Netzwerk", type: "input", 
        question: "Welcher Port nutzt HTTPS standardm√§√üig?", 
        correctAnswers: ["443"], 
        explanation: "<b>L√∂sung: 443.</b> Sicherer Webverkehr." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Was macht DHCP?", 
        options: ["Namensaufl√∂sung", "Automatische IP-Konfiguration", "Verschl√ºsselung"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: IP-Vergabe.</b> Weist Clients IPs, Masken und Gateways zu." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Was bedeutet 'Full-Duplex'?", 
        options: ["Nur Senden", "Senden ODER Empfangen", "Senden UND Empfangen gleichzeitig"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: Gleichzeitig.</b> Standard bei modernem Ethernet/Switches." 
    },
    { 
        chapter: "Netzwerk", type: "input", 
        question: "Wie nennt man die Zeitdauer einer DHCP-Zuweisung?", 
        correctAnswers: ["Lease-Zeit", "Lease time"], 
        explanation: "<b>L√∂sung: Lease-Zeit.</b> Nach Ablauf muss der Client die IP neu anfordern." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Welche Adresse nutzt ein Switch zur Weiterleitung?", 
        options: ["IP-Adresse", "MAC-Adresse", "Port-Nummer"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: MAC-Adresse.</b> Switches f√ºhren eine SAT-Tabelle (Source Address Table)." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Was ist DNS?", 
        options: ["Daten-Netz-System", "Domain Name System", "Dynamic Name Service"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Domain Name System.</b> Wandelt Namen (google.de) in IPs um." 
    },
    { 
        chapter: "Netzwerk", type: "input", 
        question: "Welches Protokoll pr√ºft, ob ein Host erreichbar ist (Ping)?", 
        correctAnswers: ["ICMP"], 
        explanation: "<b>L√∂sung: ICMP.</b> Internet Control Message Protocol." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Was ist der Vorteil von Glasfaser gegen√ºber Kupfer?", 
        options: ["Billiger", "Unempfindlich gegen EMV", "Einfacher zu verlegen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: EMV-Unempfindlich.</b> Keine elektromagnetischen St√∂rungen, h√∂here Reichweite." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Welches Protokoll ist verbindungsorientiert?", 
        options: ["UDP", "TCP", "IP"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: TCP.</b> Nutzt 3-Way-Handshake zur Absicherung." 
    },
    { 
        chapter: "Netzwerk", type: "input", 
        question: "Welche Maske hat ein /24 Netz dezimal?", 
        correctAnswers: ["255.255.255.0"], 
        explanation: "<b>L√∂sung: 255.255.255.0.</b> Die ersten 24 Bit sind auf 1 gesetzt." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Was macht ein VLAN?", 
        options: ["Internet schneller", "Physische Trennung", "Logische Netztrennung auf einem Switch"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: Logische Trennung.</b> Erh√∂ht Sicherheit und reduziert Broadcast-Traffic." 
    },
    { 
        chapter: "Netzwerk", type: "single", 
        question: "Welches Ger√§t verbindet unterschiedliche Netze?", 
        options: ["Hub", "Switch", "Router"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: Router.</b> Arbeitet auf Schicht 3 und routet Pakete zwischen Subnetzen." 
    },
    { 
        chapter: "Netzwerk", type: "input", 
        question: "Was bedeutet WLAN-Verschl√ºsselung 'WPA'?", 
        correctAnswers: ["Wi-Fi Protected Access"], 
        explanation: "<b>L√∂sung: Wi-Fi Protected Access.</b> Aktueller Standard ist WPA3." 
    },

    // --- SECURITY (36-50) ---
    { 
        chapter: "Security", type: "multi", 
        question: "Was sind die drei Ziele der CIA-Triade?", 
        options: ["Confidentiality", "Integrity", "Availability", "Authenticity"], 
        correctAnswers: [0, 1, 2], 
        explanation: "<b>Richtig: Vertraulichkeit, Integrit√§t, Verf√ºgbarkeit.</b> Basis der IT-Sicherheit." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was ist ein 'Phishing'-Angriff?", 
        options: ["Netzwerk √ºberlasten", "Datenklau via Fake-Mails", "Passw√∂rter raten"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Fake-Mails.</b> Ziel ist das Abgreifen von Login-Daten." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Welches Verfahren nutzt Public und Private Keys?", 
        options: ["Symmetrisch", "Asymmetrisch", "Hashing"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Asymmetrisch.</b> (z.B. RSA). Sicherer Schl√ºsselaustausch m√∂glich." 
    },
    { 
        chapter: "Security", type: "input", 
        question: "Wie hei√üt der Fachbegriff f√ºr 'Erpressersoftware'?", 
        correctAnswers: ["Ransomware"], 
        explanation: "<b>L√∂sung: Ransomware.</b> Verschl√ºsselt Daten und fordert L√∂segeld." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was macht eine 'Stateful Inspection Firewall'?", 
        options: ["Nur IP pr√ºfen", "Paketinhalt und Verbindungszustand pr√ºfen", "Viren l√∂schen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Zustand pr√ºfen.</b> Merkt sich, ob ein Paket zu einer bestehenden Sitzung geh√∂rt." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was ist 'Social Engineering'?", 
        options: ["Hacken von Servern", "Manipulation von Menschen", "Programmieren von Bots"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Menschliche Manipulation.</b> Den Menschen als schw√§chstes Glied ausnutzen." 
    },
    { 
        chapter: "Security", type: "input", 
        question: "Welcher Hash-Algorithmus gilt heute als unsicher?", 
        correctAnswers: ["MD5", "SHA-1"], 
        explanation: "<b>L√∂sung: MD5 oder SHA-1.</b> Wegen Kollisionsgefahr veraltet." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was ist ein VPN?", 
        options: ["Viren-Pr√ºf-Netz", "Verschl√ºsselter Tunnel √ºber √∂ffentliches Netz", "Sehr schnelles Netz"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Tunnel.</b> Erm√∂glicht sicheren Zugriff aufs Firmennetz von au√üen." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was bedeutet 'Zwei-Faktor-Authentisierung'?", 
        options: ["Zwei Passw√∂rter", "Passwort + ein weiteres Merkmal (z.B. App)", "Zwei Benutzer"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Wissen + Besitz.</b> Erh√∂ht Sicherheit massiv." 
    },
    { 
        chapter: "Security", type: "input", 
        question: "Wie nennt man die bewusste Suche nach Schwachstellen im Auftrag?", 
        correctAnswers: ["Penetrationstest", "Pentest"], 
        explanation: "<b>L√∂sung: Pentest.</b> Simulation eines Hackerangriffs zur Absicherung." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was ist ein 'Man-in-the-Middle'-Angriff?", 
        options: ["Server abst√ºrzen lassen", "Kommunikation abh√∂ren/manipulieren", "Passwort hacken"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Abh√∂ren.</b> Angreifer steht zwischen zwei Opfern." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was garantiert die 'Nicht-Abstreitbarkeit' (Non-Repudiation)?", 
        options: ["Verschl√ºsselung", "Digitale Signatur", "Firewall"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Signatur.</b> Der Absender kann nicht leugnen, die Nachricht geschickt zu haben." 
    },
    { 
        chapter: "Security", type: "input", 
        question: "Wof√ºr steht 'BSI'?", 
        correctAnswers: ["Bundesamt f√ºr Sicherheit in der Informationstechnik"], 
        explanation: "<b>L√∂sung: Bundesamt f√ºr Sicherheit in der Informationstechnik.</b> Zentrale deutsche Beh√∂rde." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was ist eine DMZ?", 
        options: ["Virenschutz", "Pufferzone zwischen Internet und internem Netz", "Backup-Server"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Demilitarisierte Zone.</b> Hier stehen √∂ffentlich erreichbare Server (z.B. Web)." 
    },
    { 
        chapter: "Security", type: "single", 
        question: "Was macht ein Trojaner prim√§r?", 
        options: ["Sich selbst kopieren", "Als n√ºtzliche Software tarnen", "Festplatte l√∂schen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Tarnung.</b> Sch√§dliche Funktion in harmlosem Gewand." 
    },

    // --- WIRTSCHAFT & RECHT (51-70) ---
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Wann endet die Probezeit laut BBiG sp√§testens?", 
        options: ["Nach 1 Monat", "Nach 4 Monaten", "Nach 6 Monaten"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: 4 Monate.</b> Im Ausbildungsverh√§ltnis max. 4 Monate." 
    },
    { 
        chapter: "Wirtschaft", type: "input", 
        question: "Welche Versicherung wird zu 100% vom Arbeitgeber gezahlt?", 
        correctAnswers: ["Unfallversicherung"], 
        explanation: "<b>L√∂sung: Unfallversicherung.</b> Abwicklung √ºber Berufsgenossenschaften." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was besagt das Minimalprinzip?", 
        options: ["Maximales Ziel mit festen Mitteln", "Festes Ziel mit minimalen Mitteln", "Wenig Aufwand, wenig Ertrag"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Festes Ziel -> wenig Mittel.</b> Beispiel: 10 Server so g√ºnstig wie m√∂glich kaufen." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Wer ist Tr√§ger der gesetzlichen Rentenversicherung?", 
        options: ["Krankenkassen", "Deutsche Rentenversicherung", "Bundesagentur f√ºr Arbeit"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: DRV.</b> Finanziert durch Umlageverfahren." 
    },
    { 
        chapter: "Wirtschaft", type: "input", 
        question: "Wie nennt man die Rechtsform 'GmbH' ausgeschrieben?", 
        correctAnswers: ["Gesellschaft mit beschr√§nkter Haftung"], 
        explanation: "<b>L√∂sung: Gesellschaft mit beschr√§nkter Haftung.</b> Mindestkapital 25.000‚Ç¨." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was ist der Hauptvorteil eines Tarifvertrags f√ºr Arbeitnehmer?", 
        options: ["Mehr Arbeit", "Gleicher Lohn f√ºr alle", "G√ºnstigere Bedingungen als im Gesetz"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: G√ºnstigere Bedingungen.</b> Z.B. mehr Urlaub oder 13. Gehalt." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Welches Gesetz sch√ºtzt personenbezogene Daten?", 
        options: ["BGB", "DSGVO", "StGB"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: DSGVO.</b> EU-weite Verordnung zum Datenschutz." 
    },
    { 
        chapter: "Wirtschaft", type: "input", 
        question: "Ab welchem Alter gilt man als voll gesch√§ftsf√§hig?", 
        correctAnswers: ["18"], 
        explanation: "<b>L√∂sung: 18.</b> Vorher beschr√§nkt gesch√§ftsf√§hig (7-17)." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was ist eine 'Aussperrung'?", 
        options: ["K√ºndigung", "Ma√ünahme des Arbeitgebers im Arbeitskampf", "Zutrittsverbot wegen Corona"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Arbeitskampf.</b> AG stellt Lohnzahlung ein und verweigert Arbeit." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was ist der 'Deckungsbeitrag'?", 
        options: ["Gewinn", "Umsatz minus variable Kosten", "Alle Fixkosten"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Erl√∂s - Variable Kosten.</b> Beitrag zur Deckung der Fixkosten." 
    },
    { 
        chapter: "Wirtschaft", type: "input", 
        question: "Wie hoch ist der aktuelle normale Mehrwertsteuersatz in Deutschland (%)?", 
        correctAnswers: ["19"], 
        explanation: "<b>L√∂sung: 19%.</b> Erm√§√üigt sind 7%." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was ist Ziel des √ñkonomischen Prinzips?", 
        options: ["Verschwendung", "Knappe Mittel optimal einsetzen", "Immer nur sparen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Optimierung.</b> Da Bed√ºrfnisse unbegrenzt, Mittel aber knapp sind." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Wer unterschreibt den Ausbildungsvertrag bei Minderj√§hrigen?", 
        options: ["Nur der Azubi", "Azubi + Gesetzliche Vertreter", "Nur der Betrieb"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Beide.</b> Eltern m√ºssen zustimmen." 
    },
    { 
        chapter: "Wirtschaft", type: "input", 
        question: "Was bedeutet die Abk√ºrzung 'AIDA' im Marketing?", 
        correctAnswers: ["Attention Interest Desire Action"], 
        explanation: "<b>L√∂sung: Aufmerksamkeit, Interesse, Verlangen, Aktion.</b> Stufenmodell der Werbung." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was ist ein 'Monopol'?", 
        options: ["Viele Anbieter", "Zwei Anbieter", "Ein alleiniger Anbieter"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: Einer allein.</b> Kann Preise fast beliebig setzen." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was regelt das Jugendarbeitsschutzgesetz prim√§r?", 
        options: ["Lohnh√∂he", "Arbeitszeiten und Pausen f√ºr U18", "Urlaub f√ºr alle"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Schutz U18.</b> Z.B. keine Nachtarbeit, l√§ngere Pausen." 
    },
    { 
        chapter: "Wirtschaft", type: "input", 
        question: "Wie nennt man die Phase des wirtschaftlichen Abschwungs?", 
        correctAnswers: ["Rezession"], 
        explanation: "<b>L√∂sung: Rezession.</b> Sinkendes BIP √ºber zwei Quartale." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Was ist der Unterschied zwischen Besitz und Eigentum?", 
        options: ["Gibt keinen", "Besitz ist rechtlich, Eigentum tats√§chlich", "Besitz ist tats√§chlich, Eigentum rechtlich"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: Tats√§chlich vs Rechtlich.</b> Der Mieter besitzt die Wohnung, der Vermieter ist Eigent√ºmer." 
    },
    { 
        chapter: "Wirtschaft", type: "single", 
        question: "Wann ist ein Kaufvertrag rechtswirksam?", 
        options: ["Nach Bezahlung", "Durch zwei √ºbereinstimmende Willenserkl√§rungen", "Bei Lieferung"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Antrag und Annahme.</b> Verpflichtungsgesch√§ft." 
    },
    { 
        chapter: "Wirtschaft", type: "input", 
        question: "Wie nennt man die Versicherung gegen Arbeitslosigkeit?", 
        correctAnswers: ["Arbeitslosenversicherung"], 
        explanation: "<b>L√∂sung: Arbeitslosenversicherung.</b> Tr√§ger ist die Bundesagentur f√ºr Arbeit." 
    },

    // --- PROJEKTMANAGEMENT & UML (71-85) ---
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was kennzeichnet ein 'Projekt'?", 
        options: ["Routineaufgabe", "Einmaligkeit und Zeitbegrenzung", "Unendliche Dauer"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Einmalig & Begrenzt.</b> Hat klares Ziel und Budget." 
    },
    { 
        chapter: "Projektmanagement", type: "input", 
        question: "Wie nennt man das Dokument des Kunden mit Anforderungen?", 
        correctAnswers: ["Lastenheft"], 
        explanation: "<b>L√∂sung: Lastenheft.</b> 'Was' soll gemacht werden? (Kunde)." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was zeigt ein 'Gantt-Diagramm'?", 
        options: ["Datenstrukturen", "Zeitlicher Ablauf von Aufgaben", "Klassenhierarchien"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Zeitplan.</b> Visualisiert Balken auf einer Zeitachse." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was ist der 'Kritische Pfad'?", 
        options: ["Der gef√§hrlichste Weg", "Abfolge von Aufgaben ohne Puffer", "Der k√ºrzeste Weg"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Ohne Puffer.</b> Verz√∂gerung hier verz√∂gert das ganze Projekt." 
    },
    { 
        chapter: "Projektmanagement", type: "input", 
        question: "Welches UML-Diagramm zeigt das Verhalten aus Nutzersicht?", 
        correctAnswers: ["Use-Case-Diagramm", "Anwendungsfalldiagramm"], 
        explanation: "<b>L√∂sung: Use-Case.</b> Zeigt Akteure und deren Ziele." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was ist 'Scrum'?", 
        options: ["Lineares Modell", "Agiles Framework", "Hardware-Test-Tool"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Agil.</b> Arbeitet in Sprints (iterativ)." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was beschreibt ein Klassendiagramm?", 
        options: ["Abl√§ufe", "Statische Struktur des Systems", "Hardware-Verkabelung"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Struktur.</b> Zeigt Klassen, Attribute und Methoden." 
    },
    { 
        chapter: "Projektmanagement", type: "input", 
        question: "Wof√ºr steht 'SMART' bei Zielen?", 
        correctAnswers: ["Specific Measurable Achievable Relevant Time-bound"], 
        explanation: "<b>L√∂sung: Spezifisch, Messbar, Attraktiv, Realistisch, Terminiert.</b>" 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was macht ein 'Meilenstein'?", 
        options: ["Arbeitspaket", "Ereignis von besonderer Bedeutung (Dauer 0)", "Budget-Posten"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Ereignis.</b> Markiert Ende einer Phase." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Welches Modell ist streng hierarchisch und phasenorientiert?", 
        options: ["Scrum", "Wasserfallmodell", "Kanban"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Wasserfall.</b> Jede Phase muss abgeschlossen sein." 
    },
    { 
        chapter: "Projektmanagement", type: "input", 
        question: "Wie nennt man die Umsetzung des Lastenhefts durch den Auftragnehmer?", 
        correctAnswers: ["Pflichtenheft"], 
        explanation: "<b>L√∂sung: Pflichtenheft.</b> 'Wie' setzen wir es um? (Anbieter)." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was ist ein 'Sprint' in Scrum?", 
        options: ["Schnelles Programmieren", "Fester Zeitraum f√ºr Inkrement (1-4 Wochen)", "Treffen am Morgen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Zeitraum.</b> Am Ende steht ein fertiges Teilprodukt." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was zeigt ein Sequenzdiagramm?", 
        options: ["Datenbanktabellen", "Zeitlicher Nachrichtenaustausch zwischen Objekten", "Projektkosten"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Interaktion.</b> Fokus auf zeitliche Abfolge." 
    },
    { 
        chapter: "Projektmanagement", type: "input", 
        question: "Wof√ºr steht 'SWOT-Analyse'?", 
        correctAnswers: ["Strengths Weaknesses Opportunities Threats"], 
        explanation: "<b>L√∂sung: St√§rken, Schw√§chen, Chancen, Risiken.</b> Strategie-Tool." 
    },
    { 
        chapter: "Projektmanagement", type: "single", 
        question: "Was ist Sinn eines 'Daily Standups'?", 
        options: ["Kaffee trinken", "Synchronisation des Teams (max 15 min)", "Lange Diskussionen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Synchronisation.</b> Was wurde getan, was steht an, gibt es Blocker?" 
    },

    // --- DATENBANKEN (86-100) ---
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Was ist ein 'Prim√§rschl√ºssel'?", 
        options: ["Wichtigster User", "Eindeutige Identifikation eines Datensatzes", "Passwort der DB"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Eindeutig.</b> Darf niemals doppelt vorkommen (Unique)." 
    },
    { 
        chapter: "Datenbanken", type: "input", 
        question: "Mit welchem SQL-Befehl l√∂scht man Daten?", 
        correctAnswers: ["DELETE"], 
        explanation: "<b>L√∂sung: DELETE FROM...</b> Entfernt Zeilen." 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Was verhindert 'Referenzielle Integrit√§t'?", 
        options: ["Hackerangriffe", "L√∂schen von Daten, die noch referenziert werden", "Langsame Abfragen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Konsistenz.</b> Verhindert 'Waisen' in der Datenbank." 
    },
    { 
        chapter: "Datenbanken", type: "input", 
        question: "SQL-Befehl zum Sortieren?", 
        correctAnswers: ["ORDER BY"], 
        explanation: "<b>L√∂sung: ORDER BY Spalte ASC/DESC.</b>" 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Was macht ein 'INNER JOIN'?", 
        options: ["Alle Daten zeigen", "Nur Datens√§tze mit Treffern in BEIDEN Tabellen", "Tabellen l√∂schen"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Schnittmenge.</b> Zeigt nur Zeilen, die eine Entsprechung haben." 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Welche Normalform eliminiert transitive Abh√§ngigkeiten?", 
        options: ["1. NF", "2. NF", "3. NF"], 
        correctAnswers: [2], 
        explanation: "<b>Richtig: 3. NF.</b> Nicht-Schl√ºssel-Attribute d√ºrfen nur vom Prim√§rschl√ºssel abh√§ngen." 
    },
    { 
        chapter: "Datenbanken", type: "input", 
        question: "Befehl zum Anlegen einer neuen Tabelle?", 
        correctAnswers: ["CREATE TABLE"], 
        explanation: "<b>L√∂sung: CREATE TABLE.</b> Teil der DDL." 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Was ist 'Atomarit√§t' (ACID)?", 
        options: ["Sehr kleine DB", "Transaktion wird ganz oder gar nicht ausgef√ºhrt", "Radioaktive Daten"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Alles oder Nichts.</b> Sch√ºtzt vor Teil-Updates bei Fehlern." 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Was bewirkt 'DISTINCT'?", 
        options: ["Schnellere Suche", "Duplikate im Ergebnis unterdr√ºcken", "Daten verschl√ºsseln"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Einmalig.</b> Zeigt jeden Wert nur einmal an." 
    },
    { 
        chapter: "Datenbanken", type: "input", 
        question: "SQL-Befehl zum Hinzuf√ºgen von Daten?", 
        correctAnswers: ["INSERT INTO"], 
        explanation: "<b>L√∂sung: INSERT INTO Tabelle VALUES...</b>" 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Was ist ein 'Fremdschl√ºssel'?", 
        options: ["Schl√ºssel eines Hackers", "Verweis auf den Prim√§rschl√ºssel einer anderen Tabelle", "Ersatzschl√ºssel"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Verweis.</b> Bildet die Beziehung (Relation) ab." 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Welcher Datentyp speichert Text variabler L√§nge?", 
        options: ["INTEGER", "VARCHAR", "BOOLEAN"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: VARCHAR.</b> Variabler Speicherplatz je nach Textl√§nge." 
    },
    { 
        chapter: "Datenbanken", type: "input", 
        question: "Funktion zur Ermittlung des Durchschnitts?", 
        correctAnswers: ["AVG"], 
        explanation: "<b>L√∂sung: AVG().</b> Berechnet den arithmetischen Mittelwert." 
    },
    { 
        chapter: "Datenbanken", type: "single", 
        question: "Was bedeutet 'Normalisierung'?", 
        options: ["Daten l√∂schen", "Strukturierung zur Vermeidung von Redundanzen", "Server neustarten"], 
        correctAnswers: [1], 
        explanation: "<b>Richtig: Redundanzvermeidung.</b> Daten effizient und konsistent speichern." 
    },
    { 
        chapter: "Datenbanken", type: "input", 
        question: "SQL: Zeilen z√§hlen?", 
        correctAnswers: ["COUNT"], 
        explanation: "<b>L√∂sung: COUNT(*).</b> Gibt die Anzahl der Datens√§tze zur√ºck." 
    }
];

// PROGRAMM-LOGIK
let currentQuestions = [];
let currentIndex = 0;
let score = 0;

window.onload = () => {
    const sel = document.getElementById('topic-select');
    const chaps = [...new Set(allQuestions.map(q => q.chapter))];
    chaps.forEach(c => {
        const o = document.createElement('option');
        o.value = c; o.textContent = c; sel.appendChild(o);
    });
};

function startQuiz(mode) {
    const topic = document.getElementById('topic-select').value;
    currentQuestions = topic === 'all' ? [...allQuestions] : allQuestions.filter(q => q.chapter === topic);
    currentQuestions.sort(() => Math.random() - 0.5);
    
    if(mode === 'exam') {
        currentQuestions = currentQuestions.slice(0, 20);
    }
    
    currentIndex = 0;
    score = 0;
    document.getElementById('setup-screen').classList.add('hidden');
    document.getElementById('quiz-screen').classList.remove('hidden');
    showQuestion();
}

function showQuestion() {
    const q = currentQuestions[currentIndex];
    document.getElementById('meta').textContent = `${q.chapter} | Frage ${currentIndex + 1} von ${currentQuestions.length}`;
    document.getElementById('question-text').textContent = q.question;
    document.getElementById('progress-fill').style.width = `${(currentIndex / currentQuestions.length) * 100}%`;
    
    const container = document.getElementById('options-container');
    container.innerHTML = '';
    
    if (q.type === 'single' || q.type === 'multi') {
        q.options.forEach((opt, idx) => {
            const div = document.createElement('div');
            div.className = 'option-item';
            div.textContent = opt;
            div.onclick = () => {
                if (q.type === 'single') {
                    Array.from(container.children).forEach(c => c.classList.remove('selected'));
                }
                div.classList.toggle('selected');
            };
            container.appendChild(div);
        });
    } else {
        container.innerHTML = `<input type="text" id="user-input" placeholder="Antwort eingeben..." autocomplete="off">`;
    }

    document.getElementById('feedback-area').classList.add('hidden');
    document.getElementById('check-btn').classList.remove('hidden');
    document.getElementById('next-btn').classList.add('hidden');
}

function checkAnswer() {
    const q = currentQuestions[currentIndex];
    let isCorrect = false;
    const container = document.getElementById('options-container');

    if (q.type === 'input') {
        const val = document.getElementById('user-input').value.trim().toLowerCase();
        isCorrect = q.correctAnswers.some(a => val.includes(a.toLowerCase()));
    } else {
        const selected = Array.from(container.children)
            .map((el, i) => el.classList.contains('selected') ? i : null)
            .filter(v => v !== null);
        
        if(selected.length === 0) return alert("Bitte w√§hle eine Antwort!");
        
        isCorrect = JSON.stringify(selected.sort()) === JSON.stringify(q.correctAnswers.sort());
        
        Array.from(container.children).forEach((el, i) => {
            if (q.correctAnswers.includes(i)) el.classList.add('correct-ui');
            else if (selected.includes(i)) el.classList.add('wrong-ui');
        });
    }

    if (isCorrect) score++;
    
    document.getElementById('explanation-box').innerHTML = `<b>${isCorrect ? '‚úÖ Richtig!' : '‚ùå Nicht ganz korrekt.'}</b><br>${q.explanation}`;
    document.getElementById('feedback-area').classList.remove('hidden');
    document.getElementById('check-btn').classList.add('hidden');
    document.getElementById('next-btn').classList.remove('hidden');
}

function nextQuestion() {
    currentIndex++;
    if (currentIndex < currentQuestions.length) showQuestion();
    else {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        const p = Math.round((score / currentQuestions.length) * 100);
        document.getElementById('score-display').innerHTML = `Ergebnis: <b>${score}/${currentQuestions.length}</b> (${p}%)`;
        document.getElementById('result-title').textContent = p >= 50 ? "Bestanden! üéâ" : "Leider nicht bestanden ‚ùå";
    }
}
</script>
</body>
</html>
