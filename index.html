<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHK AP1 Master 2026</title>
    <style>
        :root { --primary: #2563eb; --success: #16a34a; --error: #dc2626; --bg: #f8fafc; --text: #0f172a; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 15px; display: flex; justify-content: center; margin: 0; }
        .container { width: 100%; max-width: 850px; }
        .card { background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); margin-top: 15px; border: 1px solid #e2e8f0; }
        .hidden { display: none !important; }
        .btn { padding: 15px; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; width: 100%; margin-top: 12px; font-size: 1rem; transition: all 0.2s; }
        .primary-btn { background: var(--primary); color: white; }
        .option-item { display: flex; align-items: center; padding: 18px; border: 2px solid #f1f5f9; border-radius: 12px; margin-bottom: 12px; cursor: pointer; background: #fff; }
        .option-item.selected { border-color: var(--primary); background: #eff6ff; }
        .correct-ui { border-color: var(--success) !important; background: #f0fdf4 !important; }
        .wrong-ui { border-color: var(--error) !important; background: #fef2f2 !important; }
        input[type="text"] { width: 100%; padding: 16px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1.1rem; }
        .progress-bar { background: #e2e8f0; height: 8px; border-radius: 4px; margin-bottom: 25px; }
        #progress-fill { background: var(--primary); height: 100%; width: 0%; border-radius: 4px; transition: 0.4s; }
        #explanation-box { background: #f1f5f9; padding: 20px; border-radius: 10px; border-left: 6px solid var(--primary); margin-top: 20px; font-size: 0.95rem; }
    </style>
</head>
<body>
    <div class="container">
        <div id="setup-screen" class="card">
            <h1>AP1 Fokus 2026</h1>
            <p>Vollst√§ndiger Katalog basierend auf dem neuen U-Form Plan (Jan 2025).</p>
            <select id="topic-select" class="btn" style="background: #fff; border: 2px solid #e2e8f0;"></select>
            <button onclick="startQuiz('learn')" class="btn primary-btn">Lernmodus</button>
            <button onclick="startQuiz('exam')" class="btn" style="background: #334155; color: white;">Pr√ºfungssimulation</button>
        </div>

        <div id="quiz-screen" class="card hidden">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <div id="meta" style="font-size: 0.75rem; color: #94a3b8; font-weight: 700; margin-bottom: 8px;"></div>
            <h2 id="question-text" style="margin-top:0; line-height: 1.4;"></h2>
            <div id="options-container"></div>
            <div id="feedback-area" class="hidden">
                <p id="feedback-text"></p>
                <div id="explanation-box"></div>
            </div>
            <button id="check-btn" onclick="checkAnswer()" class="btn primary-btn">Pr√ºfen</button>
            <button id="next-btn" onclick="nextQuestion()" class="btn primary-btn hidden">Weiter</button>
        </div>

        <div id="result-screen" class="card hidden" style="text-align: center;">
            <div id="result-icon" style="font-size: 4rem;"></div>
            <h2 id="result-title"></h2>
            <p id="score-display"></p>
            <button onclick="location.reload()" class="btn primary-btn">Neustart</button>
        </div>
    </div>

    <script>
const allQuestions = [
    // --- 1. GRUNDLAGEN (1-12) ---
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Wie wird ein neuronales Netzwerk mit besonders vielen Hidden Layern bezeichnet?", 
        options: ["Shallow Learning", "Deep Learning", "Supervised Learning"], 
        correctAnswers: [1], 
        explanation: "Deep Learning nutzt k√ºnstliche neuronale Netze mit zahlreichen Zwischenschichten (Hidden Layers), um komplexe Muster und Abstraktionen aus Daten zu extrahieren. 'Shallow Learning' (flaches Lernen) hat hingegen kaum oder gar keine Zwischenschichten." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Wie viele Bits ergeben ein Byte?", 
        correctAnswers: ["8"], 
        explanation: "Ein Byte ist die kleinste adressierbare Dateneinheit und besteht aus einer Folge von 8 Bits. Damit lassen sich 256 verschiedene Zust√§nde (2^8) darstellen." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Rechnen Sie 2 MiB in Kibibyte (KiB) um.", 
        correctAnswers: ["2048"], 
        explanation: "In der IT werden Bin√§rpr√§fixe auf Basis von 1024 (2^10) verwendet. Ein MiB entspricht 1024 KiB. Die Rechnung lautet: 2 * 1024 = 2048." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Welches Lernverhalten nutzt vorab gelabelte Trainingsdaten?", 
        options: ["Unsupervised", "Reinforcement", "Supervised"], 
        correctAnswers: [2], 
        explanation: "Beim Supervised Learning (√ºberwachtes Lernen) lernt die KI mit Paaren aus Eingabedaten und bereits bekannten Zielergebnissen (Labeln). Unsupervised Learning sucht dagegen ohne Vorgaben nach Strukturen." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Wie nennt man KI f√ºr eine eng definierte Aufgabe?", 
        options: ["Starke KI", "Schwache KI", "General AI"], 
        correctAnswers: [1], 
        explanation: "Schwache KI (Narrow AI) ist auf die L√∂sung konkreter Probleme spezialisiert (z. B. Texterkennung). Starke KI bes√§√üe menschen√§hnliche kognitive F√§higkeiten in allen Bereichen." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Datenmenge in MiB f√ºr ein Foto mit 8.388.608 Bytes?", 
        correctAnswers: ["8"], 
        explanation: "Um von Byte auf MiB zu kommen, teilt man zweimal durch 1024. 8.388.608 / 1024 = 8.192 KiB. 8.192 / 1024 = 8 MiB." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Dezimal 12 in Bin√§r? (4 Bits)", 
        correctAnswers: ["1100"], 
        explanation: "Die bin√§ren Stellenwerte sind 8-4-2-1. Die 12 setzt sich aus 8 + 4 zusammen (Stelle 8 und 4 auf '1', Rest '0'), was 1100 ergibt." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Wie viele Bits hat eine Hex-Stelle?", 
        options: ["2 Bit", "4 Bit", "8 Bit"], 
        correctAnswers: [1], 
        explanation: "Eine Hexadezimalstelle repr√§sentiert 16 Werte (0-F). Da 2^4 = 16 ist, werden genau 4 Bits ben√∂tigt, um eine Stelle darzustellen." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Zahl 77 im BCD-Code?", 
        correctAnswers: ["0111 0111"], 
        explanation: "Beim BCD-Code (Binary Coded Decimal) wird jede Ziffer einzeln in 4 Bit (Tetrade) umgewandelt. Die 7 ist bin√§r 0111, also ergibt 77 die Folge 0111 0111." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Effekt, wenn KI Daten auswendig lernt, aber nicht generalisiert?", 
        options: ["Deep Learning", "Overfitting", "Underfitting"], 
        correctAnswers: [1], 
        explanation: "Overfitting bedeutet, dass das Modell zu stark auf die Trainingsdaten optimiert ist und Rauschen als Muster lernt. Es scheitert dann bei neuen, unbekannten Daten." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Hexadezimal 'A' in Dezimal?", 
        correctAnswers: ["10"], 
        explanation: "Im Hexadezimalsystem folgen nach der 9 die Buchstaben A=10, B=11, C=12, D=13, E=14 und F=15." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Wie viele Bits hat eine Oktalstelle?", 
        correctAnswers: ["3"], 
        explanation: "Das Oktalsystem hat die Basis 8 (Ziffern 0-7). Um 8 Werte darzustellen, braucht man 2^3 = 3 Bits." 
    },

    // --- 2. HARDWARE (13-35) ---
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Vorteile einer SSD gegen√ºber HDD?", 
        options: ["Leise", "Robust", "Billiger pro TB", "Schnelle Zugriffe"], 
        correctAnswers: [0, 1, 3], 
        explanation: "SSDs haben keine mechanischen Teile (leise, robust) und bieten fast verz√∂gerungsfreie Zugriffe. HDDs sind mechanisch anf√§lliger, aber pro TB meist g√ºnstiger." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Leistung (P) bei 230V und 0,5A?", 
        correctAnswers: ["115"], 
        explanation: "Die Formel lautet P = U * I. 230V * 0,5A ergibt eine elektrische Leistung von 115 Watt." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "USV-Klasse ohne Umschaltzeit?", 
        options: ["VFD (Klasse 3)", "VI (Klasse 2)", "VFI (Klasse 1)"], 
        correctAnswers: [2], 
        explanation: "VFI (Voltage and Frequency Independent) wandelt den Strom permanent von Wechsel- in Gleichstrom und zur√ºck um (Doppelwandler). Es gibt daher keine Schaltpause." 
    },
    
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Nutzbare Kapazit√§t RAID 5 mit 4x 2TB Platten?", 
        correctAnswers: ["6"], 
        explanation: "RAID 5 nutzt Parit√§t. Die Formel ist (n-1) * kleinste Platte. (4-1) * 2TB = 6TB nutzbarer Speicher." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Kern-Komponenten der Von-Neumann-Architektur?", 
        options: ["Rechenwerk", "Steuerwerk", "GPU", "Speicherwerk", "E/A-Werk"], 
        correctAnswers: [0, 1, 3, 4], 
        explanation: "Die VNA besteht aus ALU (Rechenwerk), Control Unit (Steuerwerk), Memory (Speicher) und I/O (E/A). Die GPU geh√∂rt nicht zum Basismodell." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "PUE-Wert: IT 100kW, Gesamt 160kW?", 
        correctAnswers: ["1.6"], 
        explanation: "PUE = Gesamte Energie / IT-Energie. 160 / 100 = 1,6. Je n√§her an 1,0, desto effizienter ist das Rechenzentrum." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "RAID-Level mit Spiegelung (Mirroring)?", 
        options: ["RAID 0", "RAID 1", "RAID 5", "RAID 10"], 
        correctAnswers: [1, 3], 
        explanation: "RAID 1 spiegelt Daten auf zwei Platten. RAID 10 ist eine Kombination aus Mirroring (1) und Striping (0)." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Architektur mit getrennten Bussen f√ºr Daten/Programme?", 
        options: ["Von-Neumann", "Harvard", "RISC"], 
        correctAnswers: [1], 
        explanation: "Die Harvard-Architektur nutzt getrennte Pfade f√ºr Befehle und Daten, was gleichzeitige Zugriffe erm√∂glicht und den 'Von-Neumann-Flaschenhals' vermeidet." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Welcher Bus ist unidirektional?", 
        correctAnswers: ["Adressbus"], 
        explanation: "Der Adressbus √ºbertr√§gt Infos nur von der CPU zum Speicher/Peripherie, um einen Ort zu adressieren. Daten- und Steuerbus sind bidirektional." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Merkmal von RISC-CPUs?", 
        options: ["Komplexe Befehle", "Einfache Befehle", "Viel Speicher"], 
        correctAnswers: [1], 
        explanation: "Reduced Instruction Set Computer nutzt einfache Befehle, die meist in einem Taktzyklus ausgef√ºhrt werden (effizienter f√ºr Mobilger√§te)." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Minimale Festplattenanzahl f√ºr RAID 6?", 
        correctAnswers: ["4"], 
        explanation: "RAID 6 nutzt doppelte Parit√§t und verkraftet den Ausfall von 2 Platten. Daf√ºr sind technisch mindestens 4 Platten n√∂tig." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Schnellster Speicher in der CPU?", 
        options: ["L1 Cache", "RAM", "SSD"], 
        correctAnswers: [0], 
        explanation: "Der L1-Cache ist direkt im Kern und taktet mit Kern-Geschwindigkeit. Er ist extrem schnell, aber sehr klein." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Ebenen der strukturierten Verkabelung?", 
        options: ["Prim√§r", "Sekund√§r", "Terti√§r", "Quart√§r"], 
        correctAnswers: [0, 1, 2], 
        explanation: "Die Norm teilt auf in Prim√§r (Campus), Sekund√§r (Steigbereich Geb√§ude) und Terti√§r (Etage zum Arbeitsplatz)." 
    },
    
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Max. L√§nge TP-Kabel im Terti√§rbereich (Standard)?", 
        correctAnswers: ["100"], 
        explanation: "Die Norm sieht 90m feste Verlegung und 10m Patchkabel vor. √úber 100m kommt es zu Signald√§mpfungen." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Welche USV bietet VI (Line-Interactive)?", 
        options: ["Klasse 1", "Klasse 2", "Klasse 3"], 
        correctAnswers: [1], 
        explanation: "VI steht f√ºr Voltage Independent (Klasse 2). Sie filtert Schwankungen, hat aber eine kurze Umschaltzeit bei Stromausfall." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Verbrauch (kWh): 500W Ger√§t l√§uft 10h?", 
        correctAnswers: ["5"], 
        explanation: "Rechnung: 0,5 kW * 10 h = 5 kWh." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Was ist Hyperthreading?", 
        options: ["Zwei CPUs", "Logische Kernverdopplung", "Wasserk√ºhlung"], 
        correctAnswers: [1], 
        explanation: "Ein physischer Kern kann zwei Threads gleichzeitig verarbeiten, indem er interne Ressourcen besser ausnutzt." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Anschluss f√ºr Grafik (digital, ersetzt VGA)?", 
        correctAnswers: ["DisplayPort"], 
        explanation: "Moderne digitale Standards wie DisplayPort oder HDMI √ºbertragen Bild und Ton paketbasiert und rauschfrei." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Welcher RAM-Typ braucht Refresh-Zyklen?", 
        options: ["SRAM", "DRAM", "ROM"], 
        correctAnswers: [1], 
        explanation: "Dynamic RAM (DRAM) speichert Daten in Kondensatoren, die Ladung verlieren. Er muss hunderte Male pro Sekunde aufgefrischt werden." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Ohmsches Gesetz: R berechnen?", 
        correctAnswers: ["U/I"], 
        explanation: "Der Widerstand berechnet sich aus Spannung durch Stromst√§rke (URI-Dreieck)." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Was misst der PUE-Wert?", 
        options: ["Effizienz", "Takt", "Lautst√§rke"], 
        correctAnswers: [0], 
        explanation: "Die Power Usage Effectiveness misst, wie viel Overhead (K√ºhlung etc.) ein Rechenzentrum im Vergleich zur IT-Leistung hat." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Kriterien Barrierefreiheit (IT)?", 
        options: ["Kontrast", "Screenreader", "Mechanische Tasten", "Tastaturbedienbarkeit"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Software muss f√ºr alle bedienbar sein: hoher Kontrast, Screenreader-Unterst√ºtzung und Steuerung ohne Maus." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Min. Platten f√ºr RAID 10?", 
        correctAnswers: ["4"], 
        explanation: "RAID 10 spiegelt (2 Platten) und streift diese Spiegel dann (nochmal 2 Platten) ‚Äì insgesamt also 4." 
    },

    // --- 3. SOFTWARE (36-45) ---
    { 
        chapter: "3. Software", type: "single", 
        question: "Partitionstabelle f√ºr Platten > 2TB?", 
        options: ["MBR", "GPT", "FAT"], 
        correctAnswers: [1], 
        explanation: "MBR kann nur bis 2TB verwalten. GPT (GUID Partition Table) unterst√ºtzt deutlich gr√∂√üere Platten und mehr Partitionen." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Cloud-Modell: Nur Softwarenutzung?", 
        correctAnswers: ["SaaS"], 
        explanation: "Software as a Service (z.B. Microsoft 365). Der Nutzer nutzt nur die App √ºber den Browser." 
    },
    { 
        chapter: "3. Software", type: "multi", 
        question: "Qualit√§tsmerkmale ISO 25010?", 
        options: ["Benutzerfreundlichkeit", "Wartbarkeit", "Preis", "Sicherheit"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Die Norm definiert technische Qualit√§t wie Zuverl√§ssigkeit und Sicherheit. Der Preis geh√∂rt nicht dazu." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Software zum Testen, dann bezahlen?", 
        options: ["Freeware", "Shareware", "Adware"], 
        correctAnswers: [1], 
        explanation: "Shareware darf meist zeitlich begrenzt gratis genutzt werden, bevor eine Lizenz f√§llig wird." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Gegenteil von propriet√§r?", 
        correctAnswers: ["Open Source"], 
        explanation: "Open Source erlaubt jedem das Einsehen und √Ñndern des Quellcodes." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Was pr√ºft Black-Box-Test?", 
        options: ["Code-Logik", "Funktion (Input/Output)", "Hardware"], 
        correctAnswers: [1], 
        explanation: "Der Tester kennt den Code nicht und pr√ºft nur, ob bei Input X auch Output Y herauskommt." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Cloud-Modell: Laufzeitumgebung (Java/Python)?", 
        correctAnswers: ["PaaS"], 
        explanation: "Platform as a Service bietet Entwicklern eine fertige Umgebung ohne Serverwartung." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Was macht ein Interpreter?", 
        options: ["√úbersetzt vorab", "√úbersetzt Zeile f√ºr Zeile", "L√∂scht Dateien"], 
        correctAnswers: [1], 
        explanation: "Er √ºbersetzt den Code erst w√§hrend der Laufzeit Schritt f√ºr Schritt (z.B. Python)." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Was bedeutet Portabilit√§t?", 
        correctAnswers: ["√úbertragbarkeit"], 
        explanation: "Gibt an, wie leicht Software auf andere Betriebssysteme oder Hardware √ºbertragen werden kann." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Beispiel f√ºr Firmware?", 
        options: ["Word", "BIOS / UEFI", "Windows"], 
        correctAnswers: [1], 
        explanation: "Firmware ist fest in die Hardware eingebettete Software (Steuerungschips)." 
    },

    // --- 4. NETZWERK (46-60) ---
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Port f√ºr HTTP?", 
        correctAnswers: ["80"], 
        explanation: "Standardport f√ºr unverschl√ºsselte Web√ºbertragung." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Layer f√ºr IP-Adressen?", 
        options: ["Layer 2", "Layer 3", "Layer 4"], 
        correctAnswers: [1], 
        explanation: "Layer 3 (Network) regelt logische Adressierung und Routing. Layer 2 nutzt MAC-Adressen." 
    },
    
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Hosts in /28 Netz?", 
        correctAnswers: ["14"], 
        explanation: "2^4 = 16 Adressen. 16 minus Netz-ID und Broadcast = 14 nutzbare Hosts." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "L√§nge IPv6 Adresse (Bits)?", 
        correctAnswers: ["128"], 
        explanation: "IPv6 nutzt 128 Bit f√ºr einen fast unersch√∂pflichen Adressraum." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Was macht DHCP?", 
        options: ["Namen aufl√∂sen", "IPs zuweisen", "Routen"], 
        correctAnswers: [1], 
        explanation: "Teilt Clients im Netzwerk automatisch IP-Adressen und Gateways zu." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Protokoll: IP zu MAC?", 
        correctAnswers: ["ARP"], 
        explanation: "Address Resolution Protocol findet die Hardware-Adresse zu einer bekannten IP." 
    },
    { 
        chapter: "4. Netzwerk", type: "multi", 
        question: "Layer 4 Protokolle?", 
        options: ["TCP", "UDP", "IP", "HTTP"], 
        correctAnswers: [0, 1], 
        explanation: "TCP (sicher) und UDP (schnell) sind die klassischen Transportprotokolle." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Was macht ein Router?", 
        options: ["Verbindet Netze", "Verteilt im LAN", "Verst√§rkt Signal"], 
        correctAnswers: [0], 
        explanation: "Verbindet unterschiedliche IP-Netze (z.B. Heimnetz und Internet) auf Layer 3." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Sicherstes WLAN-Verfahren aktuell?", 
        correctAnswers: ["WPA3"], 
        explanation: "Aktueller Standard mit besserem Schutz gegen Brute-Force." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "TCP ist...?", 
        options: ["Verbindungslos", "Verbindungsorientiert", "Unsicher"], 
        correctAnswers: [1], 
        explanation: "TCP garantiert durch den 3-Way-Handshake eine stehende, sichere Verbindung." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "APIPA Bereich?", 
        correctAnswers: ["169.254"], 
        explanation: "Selbstzugewiesene Adressen, wenn kein DHCP-Server gefunden wird." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Wie viele Bl√∂cke hat IPv6?", 
        correctAnswers: ["8"], 
        explanation: "8 Bl√∂cke √† 4 Hex-Ziffern (16 Bit pro Block)." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "DNS macht...?", 
        options: ["IP zu Name", "Name zu IP", "Mailversand"], 
        correctAnswers: [1], 
        explanation: "L√∂st Domainnamen (google.de) in IP-Adressen auf." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Port f√ºr HTTPS?", 
        correctAnswers: ["443"], 
        explanation: "Gesicherte Web√ºbertragung via TLS/SSL." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Welches Ger√§t arbeitet auf Layer 2?", 
        options: ["Hub", "Switch", "Router"], 
        correctAnswers: [1], 
        explanation: "Switche schalten Pakete gezielt anhand der MAC-Adresse weiter." 
    },

    // --- 6. WIRTSCHAFT (61-75) ---
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Deckungsbeitrag berechnen: Erl√∂s - ?", 
        correctAnswers: ["Variable Kosten"], 
        explanation: "Deckungsbeitrag = Nettoerl√∂s minus variable Kosten." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Nur AG-Anteil bei?", 
        options: ["Krankenkasse", "Rente", "Unfallversicherung"], 
        correctAnswers: [2], 
        explanation: "Die gesetzliche Unfallversicherung tragen Arbeitgeber √ºber die Berufsgenossenschaft alleine." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Viele Anbieter, viele Kunden?", 
        options: ["Monopol", "Polypol", "Oligopol"], 
        correctAnswers: [1], 
        explanation: "Polypol bedeutet vollkommener Wettbewerb bei vielen Marktteilnehmern." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Vertragstyp f√ºr Beratung?", 
        options: ["Dienstvertrag", "Werkvertrag", "Kaufvertrag"], 
        correctAnswers: [0], 
        explanation: "Beim Dienstvertrag wird das Bem√ºhen (die Zeit) geschuldet, nicht der Erfolg." 
    },
    { 
        chapter: "6. Wirtschaft", type: "multi", 
        question: "Bestandteile 3-S√§ulen-Modell (Nachhaltigkeit)?", 
        options: ["√ñkonomie", "√ñkologie", "Technik", "Soziales"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Einklang von Wirtschaft, Umwelt und Sozialem." 
    },
    
    { 
        chapter: "6. Wirtschaft", type: "multi", 
        question: "Besonderer K√ºndigungsschutz f√ºr?", 
        options: ["Schwangere", "Azubis (nach Probezeit)", "Teilzeitkr√§fte", "Schwerbehinderte"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Diese Gruppen sind gesetzlich gegen ordentliche K√ºndigungen gesch√ºtzt." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Gewinn / EK * 100 = ?", 
        correctAnswers: ["Eigenkapitalrentabilit√§t"], 
        explanation: "Gibt an, wie hoch sich das investierte Eigenkapital verzinst hat." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was ist ein Monopol?", 
        options: ["Ein Anbieter", "Wenige Anbieter", "Ein Kunde"], 
        correctAnswers: [0], 
        explanation: "Ein Marktteilnehmer beherrscht die Angebotsseite komplett." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Formel Wirtschaftlichkeit?", 
        correctAnswers: ["Ertrag / Aufwand"], 
        explanation: "Kennzahl f√ºr den wertm√§√üigen Erfolg eines Unternehmens." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was ist Kurzarbeit?", 
        options: ["Urlaub", "Vor√ºbergehende Arbeitsreduktion", "K√ºndigung"], 
        correctAnswers: [1], 
        explanation: "Sicherung von Arbeitspl√§tzen bei vor√ºbergehendem Auftragsmangel." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Anzahl S√§ulen Sozialversicherung?", 
        correctAnswers: ["5"], 
        explanation: "Kranken-, Renten-, Arbeitslosen-, Pflege- und Unfallversicherung." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was regelt das BetrVG?", 
        options: ["Arbeitszeit", "Mitbestimmung (Betriebsrat)", "Steuern"], 
        correctAnswers: [1], 
        explanation: "Regelt die Rechte des Betriebsrats und die Mitwirkung der Arbeitnehmer." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Wof√ºr steht 'GmbH'?", 
        correctAnswers: ["Gesellschaft mit beschr√§nkter Haftung"], 
        explanation: "Kapitalgesellschaft, bei der die Haftung auf das Firmenverm√∂gen begrenzt ist." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was sind variable Kosten?", 
        options: ["Miete", "Materialverbrauch", "Versicherung"], 
        correctAnswers: [1], 
        explanation: "Kosten, die sich mit der Produktionsmenge √§ndern." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Abzug bei Barzahlung innerhalb Frist?", 
        correctAnswers: ["Skonto"], 
        explanation: "Belohnung f√ºr schnelle Zahlung (meist 2-3%)." 
    },

    // --- 7. PROJEKTMANAGEMENT (76-85) ---
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Wer schreibt das Pflichtenheft?", 
        correctAnswers: ["Auftragnehmer"], 
        explanation: "Der AN beschreibt, wie er die W√ºnsche aus dem Lastenheft technisch l√∂st." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Puffer auf kritischem Pfad?", 
        correctAnswers: ["0"], 
        explanation: "Der kritische Pfad hat keine Reserven; jede Versp√§tung verz√∂gert das Ende." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "SMART: R steht f√ºr?", 
        correctAnswers: ["Realistisch"], 
        explanation: "Spezifisch, Messbar, Akzeptiert, Realistisch, Terminiert." 
    },
    { 
        chapter: "7. Projektmanagement", type: "single", 
        question: "EPK Konnektor f√ºr 'Und'?", 
        options: ["AND", "OR", "XOR"], 
        correctAnswers: [0], 
        explanation: "Alle Wege davor m√ºssen fertig sein / danach werden alle aktiviert." 
    },
    
    { 
        chapter: "7. Projektmanagement", type: "multi", 
        question: "Tuckman Phasen (Reihenfolge)?", 
        options: ["Forming", "Norming", "Storming", "Performing"], 
        correctAnswers: [0, 1, 2, 3], 
        explanation: "Forming, Storming, Norming, Performing." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Formel Freier Puffer?", 
        correctAnswers: ["FAZ(N) - FEZ(V)"], 
        explanation: "Wie weit kann ein Vorgang geschoben werden, ohne den n√§chsten zu st√∂ren." 
    },
    { 
        chapter: "7. Projektmanagement", type: "single", 
        question: "Womit endet eine EPK immer?", 
        options: ["Funktion", "Ereignis", "Konnektor"], 
        correctAnswers: [1], 
        explanation: "EPKs m√ºssen immer mit einem Zustand (Ereignis) starten und enden." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Rolle in Scrum: H√ºter des Prozesses?", 
        correctAnswers: ["Scrum Master"], 
        explanation: "Achtet auf Einhaltung der Regeln und beseitigt Hindernisse." 
    },
    { 
        chapter: "7. Projektmanagement", type: "single", 
        question: "Was ist ein Meilenstein?", 
        options: ["Fehler", "Termin mit besonderer Bedeutung", "Stein"], 
        correctAnswers: [1], 
        explanation: "Ein wichtiger Kontrolltermin im Projektverlauf." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Zeitraum in Scrum f√ºr Inkrement?", 
        correctAnswers: ["Sprint"], 
        explanation: "Ein zeitlich festgelegter Arbeitszyklus (meist 2-4 Wochen)." 
    },

    // --- 8. ENTWICKLUNG (86-93) ---
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "UML Diagramm f√ºr Abl√§ufe?", 
        options: ["Klassen", "Aktivit√§tsdiagramm", "Use-Case"], 
        correctAnswers: [1], 
        explanation: "Zeigt logische Abl√§ufe und Verzweigungen (√§hnlich wie ein PAP)." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "Primary Key muss...?", 
        options: ["Zahl sein", "Eindeutig sein", "Fremdschl√ºssel sein"], 
        correctAnswers: [1], 
        explanation: "Muss jeden Datensatz eindeutig identifizieren und darf nie leer (NULL) sein." 
    },
    { 
        chapter: "8. Entwicklung", type: "input", 
        question: "SQL Befehl zum Filtern?", 
        correctAnswers: ["WHERE"], 
        explanation: "Grenzt die Auswahl der Datens√§tze auf Bedingungen ein." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "SQL: Alle Daten verkn√ºpfen (Schnittmenge)?", 
        options: ["INNER JOIN", "OUTER JOIN", "CROSS JOIN"], 
        correctAnswers: [0], 
        explanation: "Liefert nur Zeilen, die in beiden Tabellen passende Schl√ºssel haben." 
    },
    
    { 
        chapter: "8. Entwicklung", type: "input", 
        question: "LIFO Prinzip?", 
        correctAnswers: ["Stack"], 
        explanation: "Last In - First Out (wie ein Stapel Teller)." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "UML Raute leer?", 
        options: ["Aggregation", "Komposition", "Generalisierung"], 
        correctAnswers: [0], 
        explanation: "Eine 'Besteht-aus'-Beziehung, bei der die Teile eigenst√§ndig bleiben k√∂nnen." 
    },
    { 
        chapter: "8. Entwicklung", type: "input", 
        question: "SQL: Datensatz l√∂schen?", 
        correctAnswers: ["DELETE"], 
        explanation: "Entfernt Zeilen aus einer Tabelle (DROP l√∂scht die ganze Tabelle)." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "Was ist 3. Normalform?", 
        options: ["Atomarit√§t", "Keine transitiven Abh√§ngigkeiten", "Keine Redundanz"], 
        correctAnswers: [1], 
        explanation: "Kein Nicht-Schl√ºssel-Attribut darf von einem anderen Nicht-Schl√ºssel-Attribut abh√§ngen." 
    },

    // --- 11. SECURITY (94-100) ---
    { 
        chapter: "11. Security", type: "multi", 
        question: "Schutzziele der IT-Sicherheit?", 
        options: ["Verf√ºgbarkeit", "Integrit√§t", "Design", "Vertraulichkeit"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Die CIA-Triade: Confidentiality, Integrity, Availability." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "Zone f√ºr √∂ffentliche Server?", 
        correctAnswers: ["DMZ"], 
        explanation: "Demilitarisierte Zone ‚Äì isoliertes Netz f√ºr Webserver etc." 
    },
    { 
        chapter: "11. Security", type: "single", 
        question: "Sicherungstyp: Alles seit Vollbackup?", 
        options: ["Inkrementell", "Differenziell", "Voll"], 
        correctAnswers: [1], 
        explanation: "Sichert alle √Ñnderungen seit dem letzten Vollbackup (w√§chst t√§glich an)." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "Angriff via Manipulation von Menschen?", 
        correctAnswers: ["Social Engineering"], 
        explanation: "Ausnutzen menschlicher Schw√§chen (Gutgl√§ubigkeit) f√ºr Datendiebstahl." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "Anonymisierung ist...?", 
        correctAnswers: ["Nicht r√ºckf√ºhrbar"], 
        explanation: "Daten werden so ver√§ndert, dass die Person nie wieder identifiziert werden kann." 
    },
    { 
        chapter: "11. Security", type: "single", 
        question: "Vorteil asymmetrische Verschl√ºsselung?", 
        options: ["Schneller", "Kein sicherer Key-Tausch n√∂tig", "Einfacher"], 
        correctAnswers: [1], 
        explanation: "Der √∂ffentliche Schl√ºssel kann √ºber unsichere Wege geteilt werden." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "DSGVO Pflicht: DSB ab... Personen?", 
        correctAnswers: ["20"], 
        explanation: "Unternehmen brauchen ab 20 st√§ndig datenverarbeitenden Personen einen Beauftragten." 
    }
];

function addQuestion(newQuest) {
    allQuestions.push(newQuest);
}
        let quizData = []; let currentIndex = 0; let score = 0; let mode = 'learn';

        window.onload = () => {
            const select = document.getElementById('topic-select');
            const chapters = ["Alle Themen", ...new Set(allQuestions.map(q => q.chapter))].sort();
            chapters.forEach(c => {
                const opt = document.createElement('option');
                opt.value = c === "Alle Themen" ? "all" : c;
                opt.innerText = c;
                select.appendChild(opt);
            });
        };

        window.startQuiz = (m) => {
            mode = m;
            const filter = document.getElementById('topic-select').value;
            quizData = filter === 'all' ? [...allQuestions] : allQuestions.filter(q => q.chapter === filter);
            quizData.sort(() => Math.random() - 0.5);
            currentIndex = 0; score = 0;
            document.getElementById('setup-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            showQuestion();
        };

        function showQuestion() {
            const q = quizData[currentIndex];
            document.getElementById('progress-fill').style.width = `${(currentIndex / quizData.length) * 100}%`;
            document.getElementById('meta').innerText = `${q.chapter.toUpperCase()} | FRAGE ${currentIndex + 1} / ${quizData.length}`;
            document.getElementById('question-text').innerText = q.question;
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            if(q.type === 'input') {
                container.innerHTML = `<input type="text" id="user-answer" placeholder="Antwort eingeben..." autocomplete="off">`;
                const input = document.getElementById('user-answer');
                input.focus();
                input.onkeypress = (e) => { if(e.key === 'Enter') checkAnswer(); };
            } else {
                q.options.forEach((opt, idx) => {
                    const div = document.createElement('div');
                    div.className = 'option-item';
                    div.innerHTML = `<span style="flex:1">${opt}</span>`;
                    div.onclick = () => {
                        if(q.type === 'single') container.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
                        div.classList.toggle('selected');
                    };
                    container.appendChild(div);
                });
            }
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('check-btn').classList.remove('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }

        window.checkAnswer = () => {
            const q = quizData[currentIndex];
            let correct = false;
            
            if(q.type === 'input') {
                const val = document.getElementById('user-answer').value.trim().replace(',', '.');
                correct = q.correctAnswers.some(a => a.toLowerCase().replace(',', '.') === val.toLowerCase());
            } else {
                const selected = Array.from(document.querySelectorAll('.option-item')).map((el, i) => el.classList.contains('selected') ? i : null).filter(n => n !== null);
                if(selected.length === 0) return;
                correct = JSON.stringify(selected.sort()) === JSON.stringify(q.correctAnswers.sort());
            }

            if(correct) score++;

            if(mode === 'learn') {
                const fb = document.getElementById('feedback-text');
                fb.innerHTML = correct ? `<span style="color:var(--success)">‚úî Richtig</span>` : `<span style="color:var(--error)">‚úñ Falsch. L√∂sung: ${q.correctAnswers.map(a => q.type === 'input' ? a : q.options[a]).join(', ')}</span>`;
                document.getElementById('explanation-box').innerText = q.explanation;
                document.getElementById('feedback-area').classList.remove('hidden');
                document.getElementById('check-btn').classList.add('hidden');
                document.getElementById('next-btn').classList.remove('hidden');
            } else { nextQuestion(); }
        };

        window.nextQuestion = () => {
            currentIndex++;
            if(currentIndex < quizData.length) showQuestion();
            else showResults();
        };

        function showResults() {
            document.getElementById('quiz-screen').classList.add('hidden');
            const screen = document.getElementById('result-screen');
            screen.classList.remove('hidden');
            const p = Math.round((score/quizData.length)*100);
            document.getElementById('result-icon').innerText = p >= 50 ? 'üèÜ' : 'üìö';
            document.getElementById('result-title').innerText = p >= 50 ? 'Bestanden!' : 'Noch mal lernen!';
            document.getElementById('score-display').innerHTML = `Du hast <b>${score}/${quizData.length}</b> Punkte (${p}%).`;
        }
    </script>
</body>
</html>
