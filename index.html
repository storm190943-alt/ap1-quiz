<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHK AP1 Master 2026</title>
    <style>
        :root { --primary: #2563eb; --success: #16a34a; --error: #dc2626; --bg: #f8fafc; --text: #0f172a; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 15px; display: flex; justify-content: center; margin: 0; }
        .container { width: 100%; max-width: 850px; }
        .card { background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); margin-top: 15px; border: 1px solid #e2e8f0; }
        .hidden { display: none !important; }
        .btn { padding: 15px; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; width: 100%; margin-top: 12px; font-size: 1rem; transition: all 0.2s; }
        .primary-btn { background: var(--primary); color: white; }
        .option-item { display: flex; align-items: center; padding: 18px; border: 2px solid #f1f5f9; border-radius: 12px; margin-bottom: 12px; cursor: pointer; background: #fff; }
        .option-item.selected { border-color: var(--primary); background: #eff6ff; }
        .correct-ui { border-color: var(--success) !important; background: #f0fdf4 !important; }
        .wrong-ui { border-color: var(--error) !important; background: #fef2f2 !important; }
        input[type="text"] { width: 100%; padding: 16px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1.1rem; }
        .progress-bar { background: #e2e8f0; height: 8px; border-radius: 4px; margin-bottom: 25px; }
        #progress-fill { background: var(--primary); height: 100%; width: 0%; border-radius: 4px; transition: 0.4s; }
        #explanation-box { background: #f1f5f9; padding: 20px; border-radius: 10px; border-left: 6px solid var(--primary); margin-top: 20px; font-size: 0.95rem; }
    </style>
</head>
<body>
    <div class="container">
        <div id="setup-screen" class="card">
            <h1>AP1 Fokus 2026</h1>
            <p>Vollst√§ndiger Katalog basierend auf dem neuen U-Form Plan (Jan 2025).</p>
            <select id="topic-select" class="btn" style="background: #fff; border: 2px solid #e2e8f0;"></select>
            <button onclick="startQuiz('learn')" class="btn primary-btn">Lernmodus</button>
            <button onclick="startQuiz('exam')" class="btn" style="background: #334155; color: white;">Pr√ºfungssimulation</button>
        </div>

        <div id="quiz-screen" class="card hidden">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <div id="meta" style="font-size: 0.75rem; color: #94a3b8; font-weight: 700; margin-bottom: 8px;"></div>
            <h2 id="question-text" style="margin-top:0; line-height: 1.4;"></h2>
            <div id="options-container"></div>
            <div id="feedback-area" class="hidden">
                <p id="feedback-text"></p>
                <div id="explanation-box"></div>
            </div>
            <button id="check-btn" onclick="checkAnswer()" class="btn primary-btn">Pr√ºfen</button>
            <button id="next-btn" onclick="nextQuestion()" class="btn primary-btn hidden">Weiter</button>
        </div>

        <div id="result-screen" class="card hidden" style="text-align: center;">
            <div id="result-icon" style="font-size: 4rem;"></div>
            <h2 id="result-title"></h2>
            <p id="score-display"></p>
            <button onclick="location.reload()" class="btn primary-btn">Neustart</button>
        </div>
    </div>

    <script>
const allQuestions = [
    // --- 1. GRUNDLAGEN (KI, Daten, Zahlensysteme) ---
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Wie wird ein neuronales Netzwerk mit besonders vielen Hidden Layern bezeichnet?", 
        options: ["Shallow Learning", "Deep Learning", "Supervised Learning"], 
        correctAnswers: [1], 
        explanation: "Deep Learning nutzt k√ºnstliche neuronale Netze mit zahlreichen Zwischenschichten (Hidden Layers), um komplexe Muster aus Daten zu extrahieren." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Wie viele Bits ergeben ein Byte?", 
        correctAnswers: ["8"], 
        explanation: "Ein Byte besteht standardm√§√üig aus 8 Bits und wird auch als Oktett bezeichnet." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Rechnen Sie 2 MiB in Kibibyte (KiB) um.", 
        correctAnswers: ["2048"], 
        explanation: "Bin√§rpr√§fixe nutzen den Faktor 1024. 2 * 1024 KiB = 2048 KiB." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Welches Lernverhalten nutzt vorab gelabelte Trainingsdaten?", 
        options: ["Unsupervised", "Reinforcement", "Supervised"], 
        correctAnswers: [2], 
        explanation: "Beim Supervised Learning (√úberwachtes Lernen) sind die Zielwerte (Labels) bekannt, sodass das Modell Fehler direkt minimieren kann." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Wie nennt man KI f√ºr eine eng definierte Aufgabe?", 
        options: ["Starke KI", "Schwache KI", "General AI"], 
        correctAnswers: [1], 
        explanation: "Schwache KI (Narrow AI) l√∂st konkrete Anwendungsprobleme, ohne echtes Bewusstsein oder allgemeine Transferf√§higkeiten." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Datenmenge in MiB f√ºr ein Foto mit 8.388.608 Bytes?", 
        correctAnswers: ["8"], 
        explanation: "8.388.608 / 1024 / 1024 = 8 MiB." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Dezimal 12 in Bin√§r? (4 Bits)", 
        correctAnswers: ["1100"], 
        explanation: "Die Stellenwerte sind 8-4-2-1. 8 + 4 = 12, also 1100." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Wie viele Bits hat eine Hex-Stelle?", 
        options: ["2 Bit", "4 Bit", "8 Bit"], 
        correctAnswers: [1], 
        explanation: "Eine Hex-Ziffer (0-F) repr√§sentiert 16 Werte, wof√ºr exakt 4 Bits (2^4) ben√∂tigt werden." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Zahl 77 im BCD-Code?", 
        correctAnswers: ["0111 0111"], 
        explanation: "Im BCD-Code wird jede Ziffer einzeln codiert. Die 7 ist bin√§r 0111." 
    },
    { 
        chapter: "1. Grundlagen", type: "single", 
        question: "Effekt, wenn KI Daten auswendig lernt, aber nicht generalisiert?", 
        options: ["Deep Learning", "Overfitting", "Underfitting"], 
        correctAnswers: [1], 
        explanation: "Overfitting bedeutet, dass das Modell das Rauschen der Trainingsdaten lernt und bei neuen Daten versagt." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Hexadezimal 'A' in Dezimal?", 
        correctAnswers: ["10"], 
        explanation: "In Hexadezimalsystemen steht A f√ºr 10, B f√ºr 11 bis F f√ºr 15." 
    },
    { 
        chapter: "1. Grundlagen", type: "input", 
        question: "Wie viele Bits hat eine Oktalstelle?", 
        correctAnswers: ["3"], 
        explanation: "Das Oktalsystem (Basis 8) ben√∂tigt 3 Bits (2^3 = 8), um alle Ziffern (0-7) darzustellen." 
    },

    // --- 2. HARDWARE (CPU, Speicher, Energie, USV) ---
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Vorteile einer SSD gegen√ºber HDD? (Mehrfachnennung m√∂glich)", 
        options: ["Leise", "Robust", "G√ºnstiger pro TB", "Schnelle Zugriffe"], 
        correctAnswers: [0, 1, 3], 
        explanation: "SSDs sind lautlos, sto√üfest und bieten minimale Latenzen, sind aber im Preis pro Kapazit√§t oft teurer als HDDs." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Leistung (P) bei 230V und 0,5A?", 
        correctAnswers: ["115"], 
        explanation: "P = U * I. 230 V * 0,5 A = 115 Watt." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "USV-Klasse ohne Umschaltzeit?", 
        options: ["VFD (Klasse 3)", "VI (Klasse 2)", "VFI (Klasse 1)"], 
        correctAnswers: [2], 
        explanation: "VFI (Voltage and Frequency Independent) arbeitet im Dauerwandlerbetrieb ohne Schaltpause." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Nutzbare Kapazit√§t RAID 5 mit 4x 2TB Platten?", 
        correctAnswers: ["6"], 
        explanation: "Formel: (n-1) * Kapazit√§t. (4-1) * 2 TB = 6 TB." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Kern-Komponenten der Von-Neumann-Architektur? (Mehrfachnennung m√∂glich)", 
        options: ["Rechenwerk", "Steuerwerk", "GPU", "Speicherwerk", "E/A-Werk"], 
        correctAnswers: [0, 1, 3, 4], 
        explanation: "Die VNA besteht aus ALU, Control Unit, Memory und I/O-Einheit." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "PUE-Wert: IT 100kW, Gesamt 160kW?", 
        correctAnswers: ["1.6"], 
        explanation: "PUE = Gesamtleistung / IT-Leistung. 160 / 100 = 1,6." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "RAID-Level mit Spiegelung (Mirroring)? (Mehrfachnennung m√∂glich)", 
        options: ["RAID 0", "RAID 1", "RAID 5", "RAID 10"], 
        correctAnswers: [1, 3], 
        explanation: "RAID 1 ist reines Mirroring, RAID 10 ist eine Kombination aus Striping und Mirroring." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Architektur mit getrennten Bussen f√ºr Daten/Programme?", 
        options: ["Von-Neumann", "Harvard", "RISC"], 
        correctAnswers: [1], 
        explanation: "Die Harvard-Architektur trennt Instruktionen und Daten physisch f√ºr parallele Zugriffe." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Welcher Bus ist unidirektional?", 
        correctAnswers: ["Adressbus"], 
        explanation: "Adressen flie√üen nur von der CPU weg zur Ansteuerung von Speicherstellen." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Merkmal von RISC-CPUs?", 
        options: ["Komplexe Befehle", "Einfache Befehle", "Viel Speicher"], 
        correctAnswers: [1], 
        explanation: "RISC nutzt einen reduzierten, hochoptimierten Befehlssatz f√ºr effiziente Abarbeitung." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Minimale Festplattenanzahl f√ºr RAID 6?", 
        correctAnswers: ["4"], 
        explanation: "RAID 6 ben√∂tigt zwei Parit√§tsbl√∂cke und damit mindestens vier Festplatten." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Schnellster Speicher in der CPU?", 
        options: ["L1 Cache", "RAM", "SSD"], 
        correctAnswers: [0], 
        explanation: "L1 Cache ist direkt im Core integriert und bietet die geringste Latenz." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Ebenen der strukturierten Verkabelung? (Mehrfachnennung m√∂glich)", 
        options: ["Prim√§r", "Sekund√§r", "Terti√§r", "Quart√§r"], 
        correctAnswers: [0, 1, 2], 
        explanation: "Die Norm definiert Campus- (Prim√§r), Geb√§ude- (Sekund√§r) und Etagenverkabelung (Terti√§r)." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Max. L√§nge TP-Kabel im Terti√§rbereich (Standard)?", 
        correctAnswers: ["100"], 
        explanation: "Die maximale L√§nge f√ºr Ethernet √ºber Kupfer (Twisted Pair) betr√§gt 100m (90m Permanent Link + 10m Patchkabel)." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Welche USV bietet VI (Line-Interactive)?", 
        options: ["Klasse 1", "Klasse 2", "Klasse 3"], 
        correctAnswers: [1], 
        explanation: "Klasse 2 (Voltage Independent) gleicht Spannungsschwankungen aus, schaltet aber bei Ausfall verz√∂gert um." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Verbrauch (kWh): 500W Ger√§t l√§uft 10h?", 
        correctAnswers: ["5"], 
        explanation: "0,5 kW * 10 h = 5 kWh." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Was ist Hyperthreading?", 
        options: ["Zwei CPUs", "Logische Kernverdopplung", "Wasserk√ºhlung"], 
        correctAnswers: [1], 
        explanation: "Verdopplung der logischen Kerne zur besseren Auslastung der Pipeline einer physischen CPU." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Moderner Anschluss f√ºr Grafik (digital, ersetzt VGA)?", 
        correctAnswers: ["DisplayPort", "HDMI"], 
        explanation: "Digitale Schnittstellen wie DisplayPort √ºbertragen Bild- und Tonsignale verlustfrei." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Welcher RAM-Typ braucht Refresh-Zyklen?", 
        options: ["SRAM", "DRAM", "ROM"], 
        correctAnswers: [1], 
        explanation: "DRAM speichert in Kondensatoren, die durch Entladung regelm√§√üig aufgefrischt werden m√ºssen." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Ohmsches Gesetz: R berechnen?", 
        correctAnswers: ["U/I"], 
        explanation: "R (Widerstand) = U (Spannung) / I (Stromst√§rke)." 
    },
    { 
        chapter: "2. Hardware", type: "single", 
        question: "Was misst der PUE-Wert?", 
        options: ["Effizienz", "Takt", "Lautst√§rke"], 
        correctAnswers: [0], 
        explanation: "PUE ist die Kennzahl f√ºr die Energieeffizienz eines Rechenzentrums." 
    },
    { 
        chapter: "2. Hardware", type: "multi", 
        question: "Kriterien Barrierefreiheit (IT)? (Mehrfachnennung m√∂glich)", 
        options: ["Kontrast", "Screenreader", "Mechanische Tasten", "Tastaturbedienbarkeit"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Barrierefreiheit umfasst optische (Kontrast), akustische (Screenreader) und motorische (Tastatur) Bedienbarkeit." 
    },
    { 
        chapter: "2. Hardware", type: "input", 
        question: "Min. Platten f√ºr RAID 10?", 
        correctAnswers: ["4"], 
        explanation: "RAID 10 ben√∂tigt mindestens zwei gespiegelte Paare." 
    },

    // --- 3. SOFTWARE ---
    { 
        chapter: "3. Software", type: "single", 
        question: "Partitionstabelle f√ºr Platten > 2TB?", 
        options: ["MBR", "GPT", "FAT"], 
        correctAnswers: [1], 
        explanation: "GPT (GUID Partition Table) ersetzt den veralteten MBR f√ºr gro√üe Datentr√§ger." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Cloud-Modell: Nur Softwarenutzung?", 
        correctAnswers: ["SaaS"], 
        explanation: "Software as a Service stellt die Anwendung direkt √ºber das Netz bereit." 
    },
    { 
        chapter: "3. Software", type: "multi", 
        question: "Qualit√§tsmerkmale ISO 25010? (Mehrfachnennung m√∂glich)", 
        options: ["Benutzerfreundlichkeit", "Wartbarkeit", "Preis", "Sicherheit"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Die Norm definiert softwaretechnische Qualit√§ten, nicht jedoch kaufm√§nnische Faktoren." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Software zum Testen, dann bezahlen?", 
        options: ["Freeware", "Shareware", "Adware"], 
        correctAnswers: [1], 
        explanation: "Shareware erlaubt das zeitlich begrenzte Ausprobieren vor dem Lizenzkauf." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Gegenteil von propriet√§r?", 
        correctAnswers: ["Open Source"], 
        explanation: "Open Source Software legt den Quellcode f√ºr alle Nutzer offen." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Was pr√ºft Black-Box-Test?", 
        options: ["Code-Logik", "Funktion (Input/Output)", "Hardware"], 
        correctAnswers: [1], 
        explanation: "Der Tester pr√ºft nur Ein- und Ausgabewerte ohne Kenntnis des Quellcodes." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Cloud-Modell: Laufzeitumgebung?", 
        correctAnswers: ["PaaS"], 
        explanation: "Platform as a Service bietet Entwicklern fertige Laufzeitumgebungen." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Was macht ein Interpreter?", 
        options: ["√úbersetzt vorab", "√úbersetzt Zeile f√ºr Zeile", "L√∂scht Dateien"], 
        correctAnswers: [1], 
        explanation: "Interpreter f√ºhren Code direkt aus, indem sie ihn w√§hrend der Laufzeit zeilenweise √ºbersetzen." 
    },
    { 
        chapter: "3. Software", type: "input", 
        question: "Was bedeutet Portabilit√§t?", 
        correctAnswers: ["√úbertragbarkeit"], 
        explanation: "Portabilit√§t beschreibt, wie leicht Software auf andere Plattformen √ºbertragen werden kann." 
    },
    { 
        chapter: "3. Software", type: "single", 
        question: "Beispiel f√ºr Firmware?", 
        options: ["Word", "BIOS / UEFI", "Windows"], 
        correctAnswers: [1], 
        explanation: "Firmware ist hardwarenahe Software, die dauerhaft in Chips gespeichert ist." 
    },

    // --- 4. NETZWERK ---
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Port f√ºr HTTP?", 
        correctAnswers: ["80"], 
        explanation: "Standardport f√ºr unverschl√ºsselten Web-Verkehr." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Layer f√ºr IP-Adressen?", 
        options: ["Layer 2", "Layer 3", "Layer 4"], 
        correctAnswers: [1], 
        explanation: "IP-Adressen werden auf Layer 3 (Network Layer) f√ºr das Routing genutzt." 
    },
    
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Hosts in /28 Netz?", 
        correctAnswers: ["14"], 
        explanation: "2^4 = 16 Adressen gesamt, abz√ºglich Netz-ID und Broadcast = 14 Hosts." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "L√§nge IPv6 Adresse (Bits)?", 
        correctAnswers: ["128"], 
        explanation: "IPv6 nutzt 128-Bit-Adressen zur L√∂sung des IPv4-Adressmangels." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Was macht DHCP?", 
        options: ["Namen aufl√∂sen", "IPs zuweisen", "Routen"], 
        correctAnswers: [1], 
        explanation: "DHCP automatisiert die Vergabe von IP-Konfigurationen im Netzwerk." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Protokoll: IP zu MAC?", 
        correctAnswers: ["ARP"], 
        explanation: "ARP findet die Hardware-Adresse zu einer bekannten IP-Adresse." 
    },
    { 
        chapter: "4. Netzwerk", type: "multi", 
        question: "Layer 4 Protokolle? (Mehrfachnennung m√∂glich)", 
        options: ["TCP", "UDP", "IP", "HTTP"], 
        correctAnswers: [0, 1], 
        explanation: "Auf Schicht 4 findet man TCP (verbindungsorientiert) und UDP (verbindungslos)." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Was macht ein Router?", 
        options: ["Verbindet Netze", "Verteilt im LAN", "Verst√§rkt Signal"], 
        correctAnswers: [0], 
        explanation: "Router treffen Weiterleitungsentscheidungen zwischen verschiedenen IP-Netzwerken." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Sicherstes WLAN-Verfahren aktuell?", 
        correctAnswers: ["WPA3"], 
        explanation: "WPA3 ist der moderne Nachfolger von WPA2 mit verbesserter Verschl√ºsselung." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "TCP ist...?", 
        options: ["Verbindungslos", "Verbindungsorientiert", "Unsicher"], 
        correctAnswers: [1], 
        explanation: "TCP baut eine explizite Verbindung (Handshake) auf, um Fehlerfreiheit zu garantieren." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "APIPA Bereich?", 
        correctAnswers: ["169.254"], 
        explanation: "Selbstkonfigurierte Adressen im Bereich 169.254.0.0/16, wenn kein DHCP antwortet." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Wie viele Bl√∂cke hat IPv6?", 
        correctAnswers: ["8"], 
        explanation: "Eine IPv6-Adresse besteht aus acht Bl√∂cken mit jeweils vier Hexadezimalziffern." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "DNS macht...?", 
        options: ["IP zu Name", "Name zu IP", "Mailversand"], 
        correctAnswers: [1], 
        explanation: "Wandelt Domainnamen in die f√ºr Computer verst√§ndlichen IP-Adressen um." 
    },
    { 
        chapter: "4. Netzwerk", type: "input", 
        question: "Port f√ºr HTTPS?", 
        correctAnswers: ["443"], 
        explanation: "Standardport f√ºr verschl√ºsselten Web-Traffic √ºber TLS/SSL." 
    },
    { 
        chapter: "4. Netzwerk", type: "single", 
        question: "Welches Ger√§t arbeitet auf Layer 2?", 
        options: ["Hub", "Switch", "Router"], 
        correctAnswers: [1], 
        explanation: "Switches leiten Frames innerhalb eines Netzes anhand von MAC-Adressen weiter." 
    },

    // --- 6. WIRTSCHAFT ---
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Deckungsbeitrag berechnen: Erl√∂s - ?", 
        correctAnswers: ["Variable Kosten"], 
        explanation: "Der Deckungsbeitrag zeigt, wie viel Erl√∂s zur Deckung der Fixkosten √ºbrig bleibt." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Nur AG-Anteil bei?", 
        options: ["Krankenkasse", "Rente", "Unfallversicherung"], 
        correctAnswers: [2], 
        explanation: "Die gesetzliche Unfallversicherung wird allein durch den Arbeitgeber finanziert." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Viele Anbieter, viele Kunden?", 
        options: ["Monopol", "Polypol", "Oligopol"], 
        correctAnswers: [1], 
        explanation: "Ein Polypol beschreibt eine Marktsituation mit vielen Teilnehmern auf beiden Seiten." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Vertragstyp f√ºr Beratung?", 
        options: ["Dienstvertrag", "Werkvertrag", "Kaufvertrag"], 
        correctAnswers: [0], 
        explanation: "Beim Dienstvertrag wird das Wirken, nicht aber der Erfolg geschuldet." 
    },
    { 
        chapter: "6. Wirtschaft", type: "multi", 
        question: "Bestandteile 3-S√§ulen-Modell? (Mehrfachnennung m√∂glich)", 
        options: ["√ñkonomie", "√ñkologie", "Technik", "Soziales"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Nachhaltigkeit basiert auf wirtschaftlichen, umweltbezogenen und gesellschaftlichen Faktoren." 
    },
    
    { 
        chapter: "6. Wirtschaft", type: "multi", 
        question: "Besonderer K√ºndigungsschutz f√ºr? (Mehrfachnennung m√∂glich)", 
        options: ["Schwangere", "Azubis (nach Probezeit)", "Teilzeitkr√§fte", "Schwerbehinderte"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Gesetzlicher Schutz f√ºr Personengruppen mit besonderer Schutzbed√ºrftigkeit." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Gewinn / EK * 100 = ?", 
        correctAnswers: ["Eigenkapitalrentabilit√§t"], 
        explanation: "Kennzahl f√ºr die Verzinsung des vom Inhaber eingesetzten Kapitals." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was ist ein Monopol?", 
        options: ["Ein Anbieter", "Wenige Anbieter", "Ein Kunde"], 
        correctAnswers: [0], 
        explanation: "Ein Markt mit nur einem Anbieter f√ºr ein bestimmtes Gut." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Formel Wirtschaftlichkeit?", 
        correctAnswers: ["Ertrag / Aufwand"], 
        explanation: "Wirtschaftlichkeit stellt den wertm√§√üigen Output dem Input gegen√ºber." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was ist Kurzarbeit?", 
        options: ["Urlaub", "Vor√ºbergehende Arbeitsreduktion", "K√ºndigung"], 
        correctAnswers: [1], 
        explanation: "Hilfsmittel zum Erhalt von Arbeitspl√§tzen in Krisenzeiten." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Anzahl S√§ulen Sozialversicherung?", 
        correctAnswers: ["5"], 
        explanation: "Kranken-, Pflege-, Renten-, Unfall- und Arbeitslosenversicherung." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was regelt das BetrVG?", 
        options: ["Arbeitszeit", "Mitbestimmung", "Steuern"], 
        correctAnswers: [1], 
        explanation: "Das Betriebsverfassungsgesetz regelt die Zusammenarbeit von AG und Betriebsrat." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Wof√ºr steht 'GmbH'?", 
        correctAnswers: ["Gesellschaft mit beschr√§nkter Haftung"], 
        explanation: "Haftungsbeschr√§nkte Kapitalgesellschaft." 
    },
    { 
        chapter: "6. Wirtschaft", type: "single", 
        question: "Was sind variable Kosten?", 
        options: ["Miete", "Material", "Versicherung"], 
        correctAnswers: [1], 
        explanation: "Kosten, die sich mit der Produktionsmenge direkt ver√§ndern." 
    },
    { 
        chapter: "6. Wirtschaft", type: "input", 
        question: "Abzug bei Barzahlung innerhalb Frist?", 
        correctAnswers: ["Skonto"], 
        explanation: "Finanzreiz f√ºr z√ºgige Begleichung von Forderungen." 
    },

    // --- 7. PROJEKTMANAGEMENT ---
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Wer schreibt das Pflichtenheft?", 
        correctAnswers: ["Auftragnehmer"], 
        explanation: "Die technische Konkretisierung der Anforderungen aus dem Lastenheft." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Puffer auf kritischem Pfad?", 
        correctAnswers: ["0"], 
        explanation: "Aktivit√§ten ohne Zeitreserven definieren das Projektende." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "SMART: R steht f√ºr?", 
        correctAnswers: ["Realistisch"], 
        explanation: "Ziele m√ºssen mit verf√ºgbaren Ressourcen erreichbar sein." 
    },
    { 
        chapter: "7. Projektmanagement", type: "single", 
        question: "EPK Konnektor f√ºr 'Und'?", 
        options: ["AND", "OR", "XOR"], 
        correctAnswers: [0], 
        explanation: "Logische Zusammenf√ºhrung oder Teilung, bei der alle Pfade aktiv sind." 
    },
    
    { 
        chapter: "7. Projektmanagement", type: "multi", 
        question: "Tuckman Phasen (Reihenfolge)? (Mehrfachnennung m√∂glich)", 
        options: ["Forming", "Norming", "Storming", "Performing"], 
        correctAnswers: [0, 1, 2, 3], 
        explanation: "Die vier klassischen Stufen der Teamentwicklung." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Formel Freier Puffer?", 
        correctAnswers: ["FAZ(N) - FEZ(V)"], 
        explanation: "Zeitspanne, die den Nachfolger nicht beeinflusst." 
    },
    { 
        chapter: "7. Projektmanagement", type: "single", 
        question: "Womit endet eine EPK immer?", 
        options: ["Funktion", "Ereignis", "Konnektor"], 
        correctAnswers: [1], 
        explanation: "EPKs beginnen und enden zwingend mit Zustands√§nderungen (Ereignissen)." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Scrum: H√ºter des Prozesses?", 
        correctAnswers: ["Scrum Master"], 
        explanation: "Verantwortlich f√ºr die Beseitigung von Hindernissen und Regelkonformit√§t." 
    },
    { 
        chapter: "7. Projektmanagement", type: "single", 
        question: "Was ist ein Meilenstein?", 
        options: ["Fehler", "Termin mit Bedeutung", "Stein"], 
        correctAnswers: [1], 
        explanation: "Ereignis von besonderer Wichtigkeit f√ºr den Projektfortschritt." 
    },
    { 
        chapter: "7. Projektmanagement", type: "input", 
        question: "Zeitraum in Scrum?", 
        correctAnswers: ["Sprint"], 
        explanation: "Feste Zeiteinheit zur Erstellung eines Produkt-Inkrements." 
    },

    // --- 8. ENTWICKLUNG ---
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "UML Diagramm f√ºr Abl√§ufe?", 
        options: ["Klassen", "Aktivit√§t", "Use-Case"], 
        correctAnswers: [1], 
        explanation: "Visualisierung von Kontroll- und Datenfl√ºssen." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "Primary Key muss...?", 
        options: ["Zahl sein", "Eindeutig sein", "Fremdschl√ºssel sein"], 
        correctAnswers: [1], 
        explanation: "Identifiziert jeden Datensatz einer Tabelle zweifelsfrei." 
    },
    { 
        chapter: "8. Entwicklung", type: "input", 
        question: "SQL Befehl zum Filtern?", 
        correctAnswers: ["WHERE"], 
        explanation: "Schr√§nkt die Ergebnismenge basierend auf Bedingungen ein." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "SQL: Schnittmenge bilden?", 
        options: ["INNER JOIN", "OUTER JOIN", "CROSS JOIN"], 
        correctAnswers: [0], 
        explanation: "Verkn√ºpft Zeilen nur, wenn in beiden Tabellen √úbereinstimmungen vorliegen." 
    },
    
    { 
        chapter: "8. Entwicklung", type: "input", 
        question: "LIFO Prinzip?", 
        correctAnswers: ["Stack"], 
        explanation: "Last-In, First-Out (Stapelspeicher)." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "UML Raute leer?", 
        options: ["Aggregation", "Komposition", "Generalisierung"], 
        correctAnswers: [0], 
        explanation: "Schwache Ganz-Teil-Beziehung (Teile existieren auch ohne das Ganze)." 
    },
    { 
        chapter: "8. Entwicklung", type: "input", 
        question: "SQL: Datensatz l√∂schen?", 
        correctAnswers: ["DELETE"], 
        explanation: "Entfernt spezifische Zeilen aus einer Datenbanktabelle." 
    },
    { 
        chapter: "8. Entwicklung", type: "single", 
        question: "Was ist 3. Normalform?", 
        options: ["Atomarit√§t", "Transitive Abh√§ngigkeit", "Redundanz"], 
        correctAnswers: [1], 
        explanation: "Attribute h√§ngen nur vom Prim√§rschl√ºssel ab, nicht von anderen Attributen." 
    },

    // --- 11. SECURITY ---
    { 
        chapter: "11. Security", type: "multi", 
        question: "Schutzziele der IT-Sicherheit? (Mehrfachnennung m√∂glich)", 
        options: ["Verf√ºgbarkeit", "Integrit√§t", "Design", "Vertraulichkeit"], 
        correctAnswers: [0, 1, 3], 
        explanation: "Die CIA-Triade: Confidentiality, Integrity, Availability." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "Zone f√ºr √∂ffentliche Server?", 
        correctAnswers: ["DMZ"], 
        explanation: "Abgeschotteter Bereich zwischen internem und externem Netz." 
    },
    { 
        chapter: "11. Security", type: "single", 
        question: "Sicherungstyp: √Ñnderungen seit Vollbackup?", 
        options: ["Inkrementell", "Differenziell", "Voll"], 
        correctAnswers: [1], 
        explanation: "Sichert alle Daten, die sich seit dem letzten Komplett-Backup ge√§ndert haben." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "Angriff via Manipulation?", 
        correctAnswers: ["Social Engineering"], 
        explanation: "Psychologische Trickserei zur Erlangung von Zugangsdaten." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "Anonymisierung?", 
        correctAnswers: ["Nicht r√ºckf√ºhrbar"], 
        explanation: "Vollst√§ndige Entfernung des Personenbezugs ohne Wiederherstellungsm√∂glichkeit." 
    },
    { 
        chapter: "11. Security", type: "single", 
        question: "Vorteil asymmetrisch?", 
        options: ["Schnell", "Kein Key-Tausch n√∂tig", "Einfach"], 
        correctAnswers: [1], 
        explanation: "Der √∂ffentliche Schl√ºssel kann √ºber unsichere Kan√§le verteilt werden." 
    },
    { 
        chapter: "11. Security", type: "input", 
        question: "DSB ab... Personen?", 
        correctAnswers: ["20"], 
        explanation: "Bestellungspflicht f√ºr einen Datenschutzbeauftragten ab 20 Mitarbeitern." 
    }
];

function addQuestion(newQuest) {
    allQuestions.push(newQuest);
}
        let quizData = []; let currentIndex = 0; let score = 0; let mode = 'learn';

        window.onload = () => {
            const select = document.getElementById('topic-select');
            const chapters = ["Alle Themen", ...new Set(allQuestions.map(q => q.chapter))].sort();
            chapters.forEach(c => {
                const opt = document.createElement('option');
                opt.value = c === "Alle Themen" ? "all" : c;
                opt.innerText = c;
                select.appendChild(opt);
            });
        };

        window.startQuiz = (m) => {
            mode = m;
            const filter = document.getElementById('topic-select').value;
            quizData = filter === 'all' ? [...allQuestions] : allQuestions.filter(q => q.chapter === filter);
            quizData.sort(() => Math.random() - 0.5);
            currentIndex = 0; score = 0;
            document.getElementById('setup-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            showQuestion();
        };

        function showQuestion() {
            const q = quizData[currentIndex];
            document.getElementById('progress-fill').style.width = `${(currentIndex / quizData.length) * 100}%`;
            document.getElementById('meta').innerText = `${q.chapter.toUpperCase()} | FRAGE ${currentIndex + 1} / ${quizData.length}`;
            document.getElementById('question-text').innerText = q.question;
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            if(q.type === 'input') {
                container.innerHTML = `<input type="text" id="user-answer" placeholder="Antwort eingeben..." autocomplete="off">`;
                const input = document.getElementById('user-answer');
                input.focus();
                input.onkeypress = (e) => { if(e.key === 'Enter') checkAnswer(); };
            } else {
                q.options.forEach((opt, idx) => {
                    const div = document.createElement('div');
                    div.className = 'option-item';
                    div.innerHTML = `<span style="flex:1">${opt}</span>`;
                    div.onclick = () => {
                        if(q.type === 'single') container.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
                        div.classList.toggle('selected');
                    };
                    container.appendChild(div);
                });
            }
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('check-btn').classList.remove('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }

        window.checkAnswer = () => {
            const q = quizData[currentIndex];
            let correct = false;
            
            if(q.type === 'input') {
                const val = document.getElementById('user-answer').value.trim().replace(',', '.');
                correct = q.correctAnswers.some(a => a.toLowerCase().replace(',', '.') === val.toLowerCase());
            } else {
                const selected = Array.from(document.querySelectorAll('.option-item')).map((el, i) => el.classList.contains('selected') ? i : null).filter(n => n !== null);
                if(selected.length === 0) return;
                correct = JSON.stringify(selected.sort()) === JSON.stringify(q.correctAnswers.sort());
            }

            if(correct) score++;

            if(mode === 'learn') {
                const fb = document.getElementById('feedback-text');
                fb.innerHTML = correct ? `<span style="color:var(--success)">‚úî Richtig</span>` : `<span style="color:var(--error)">‚úñ Falsch. L√∂sung: ${q.correctAnswers.map(a => q.type === 'input' ? a : q.options[a]).join(', ')}</span>`;
                document.getElementById('explanation-box').innerText = q.explanation;
                document.getElementById('feedback-area').classList.remove('hidden');
                document.getElementById('check-btn').classList.add('hidden');
                document.getElementById('next-btn').classList.remove('hidden');
            } else { nextQuestion(); }
        };

        window.nextQuestion = () => {
            currentIndex++;
            if(currentIndex < quizData.length) showQuestion();
            else showResults();
        };

        function showResults() {
            document.getElementById('quiz-screen').classList.add('hidden');
            const screen = document.getElementById('result-screen');
            screen.classList.remove('hidden');
            const p = Math.round((score/quizData.length)*100);
            document.getElementById('result-icon').innerText = p >= 50 ? 'üèÜ' : 'üìö';
            document.getElementById('result-title').innerText = p >= 50 ? 'Bestanden!' : 'Noch mal lernen!';
            document.getElementById('score-display').innerHTML = `Du hast <b>${score}/${quizData.length}</b> Punkte (${p}%).`;
        }
    </script>
</body>
</html>
